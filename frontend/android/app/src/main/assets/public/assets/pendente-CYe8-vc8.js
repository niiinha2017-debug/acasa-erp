import{y as x,f as k,h as y,g as w,r as u,c as p,o as c,b as s,H as _,e as l,d as V,u as d,t as N}from"./index-CH22lQIC.js";import{u as C}from"./useauth-BQLIh4i2.js";const A={class:"w-full h-full flex items-center justify-center p-6"},S={class:"w-full max-w-[520px] rounded-3xl border border-slate-200 bg-white shadow-sm overflow-hidden dark:border-slate-800 dark:bg-slate-950"},q={class:"px-6 py-6 space-y-5"},B={key:0,class:"text-xs font-bold text-rose-500 px-1"},M={class:"flex items-center justify-end gap-2 pt-2"},D={__name:"pendente",setup(P){const{alterarSenha:m,syncMe:h,loading:r}=C(),b=x(),t=k(""),e=y({senhaAtual:"",senhaNova:"",senhaConfirmacao:""}),f=w(()=>e.senhaAtual.length>=3&&e.senhaNova.length>=6&&e.senhaNova===e.senhaConfirmacao);async function v(){var i,a;if(t.value="",e.senhaNova!==e.senhaConfirmacao){t.value="As senhas não conferem.";return}try{await m({senha_atual:e.senhaAtual,senha_nova:e.senhaNova}),await h(),b.push("/")}catch(o){t.value=((a=(i=o.response)==null?void 0:i.data)==null?void 0:a.message)||"Erro ao alterar senha. Verifique a senha atual."}}return(i,a)=>{const o=u("Input"),g=u("Button");return c(),p("div",A,[s("div",S,[a[4]||(a[4]=s("div",{class:"px-6 py-5 border-b border-slate-100 bg-slate-50/40 dark:border-slate-800 dark:bg-slate-900/20"},[s("h1",{class:"text-lg font-black uppercase tracking-tight text-slate-800 dark:text-slate-100"}," Primeiro Acesso "),s("p",{class:"text-[11px] font-bold uppercase tracking-wider text-slate-500 mt-1"}," Defina sua senha definitiva para ativar sua conta ")],-1)),s("div",q,[a[3]||(a[3]=s("div",{class:"rounded-2xl border border-indigo-200 bg-indigo-50 px-4 py-3 dark:border-indigo-900/30 dark:bg-indigo-950/20"},[s("p",{class:"text-sm font-semibold text-indigo-900 dark:text-indigo-200"}," Segurança da Conta "),s("p",{class:"text-sm text-indigo-900/80 dark:text-indigo-200/70 mt-1"}," Para sua segurança, substitua a senha provisória enviada por e-mail por uma nova senha pessoal. ")],-1)),s("form",{onSubmit:_(v,["prevent"]),class:"space-y-4"},[l(o,{modelValue:e.senhaAtual,"onUpdate:modelValue":a[0]||(a[0]=n=>e.senhaAtual=n),label:"Senha Provisória (a que recebeu)",type:"password",required:"",disabled:d(r)},null,8,["modelValue","disabled"]),l(o,{modelValue:e.senhaNova,"onUpdate:modelValue":a[1]||(a[1]=n=>e.senhaNova=n),label:"Nova Senha",type:"password",required:"",disabled:d(r)},null,8,["modelValue","disabled"]),l(o,{modelValue:e.senhaConfirmacao,"onUpdate:modelValue":a[2]||(a[2]=n=>e.senhaConfirmacao=n),label:"Confirmar Nova Senha",type:"password",required:"",disabled:d(r)},null,8,["modelValue","disabled"]),t.value?(c(),p("div",B,N(t.value),1)):V("",!0),s("div",M,[l(g,{type:"submit",label:"Ativar Minha Conta",class:"w-full h-11 rounded-2xl font-black uppercase tracking-wider",loading:d(r),disabled:!f.value},null,8,["loading","disabled"])])],32)])])])}}};export{D as default};
//# sourceMappingURL=pendente-CYe8-vc8.js.map
