{"version":3,"file":"index-CHEfUcUD.js","sources":["../../src/pages/compras/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"w-full max-w-[1200px] mx-auto space-y-4 animate-page-in\">\r\n    <!-- Header Compacto -->\r\n    <div class=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 p-2\">\r\n      <div class=\"flex items-center gap-3\">\r\n        <div class=\"w-10 h-10 rounded-xl bg-slate-900 text-white flex items-center justify-center\">\r\n          <i class=\"pi pi-shopping-cart text-lg\"></i>\r\n        </div>\r\n        <div>\r\n          <h1 class=\"text-lg font-black text-slate-800 uppercase tracking-tight\">Compras</h1>\r\n          <p class=\"text-[10px] font-bold text-slate-400 uppercase tracking-wider\">Entradas e rateios</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"flex flex-col sm:flex-row items-center gap-2 w-full sm:w-auto\">\r\n        <div class=\"relative w-full sm:w-56\">\r\n          <i class=\"pi pi-search absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs\"></i>\r\n          <input\r\n            v-model=\"filtro\"\r\n            type=\"text\"\r\n            placeholder=\"Buscar...\"\r\n            class=\"w-full pl-9 pr-3 h-10 bg-white border border-slate-200 rounded-xl text-xs font-bold focus:ring-2 focus:ring-brand-primary/10 focus:border-brand-primary outline-none transition-all\"\r\n          />\r\n        </div>\r\n\r\n<Button\r\n  v-if=\"can('compras.criar')\"\r\n  variant=\"primary\"\r\n  size=\"md\"\r\n  class=\"!h-10 !rounded-xl !px-4 text-xs font-black uppercase tracking-wider\"\r\n  @click=\"router.push('/compras/novo')\"\r\n>\r\n\r\n          <i class=\"pi pi-plus mr-1.5 text-[10px]\"></i>\r\n          Nova\r\n        </Button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Cards Compactos -->\r\n    <div class=\"grid grid-cols-2 lg:grid-cols-4 gap-3\">\r\n      <div class=\"p-4 rounded-xl bg-white border border-slate-200 shadow-sm\">\r\n        <p class=\"text-[9px] font-black uppercase tracking-[0.15em] text-slate-400\">Total</p>\r\n        <p class=\"text-xl font-black text-slate-800\">{{ format.currency(totalGeral) }}</p>\r\n      </div>\r\n\r\n      <div class=\"p-4 rounded-xl bg-white border border-slate-200 shadow-sm\">\r\n        <p class=\"text-[9px] font-black uppercase tracking-[0.15em] text-slate-400\">Estoque</p>\r\n        <p class=\"text-xl font-black text-slate-800\">{{ format.currency(totalInsumos) }}</p>\r\n      </div>\r\n\r\n      <div class=\"p-4 rounded-xl bg-white border border-slate-200 shadow-sm\">\r\n        <p class=\"text-[9px] font-black uppercase tracking-[0.15em] text-slate-400\">Vendas</p>\r\n        <p class=\"text-xl font-black text-slate-800\">{{ format.currency(totalVendas) }}</p>\r\n      </div>\r\n\r\n      <div class=\"p-4 rounded-xl bg-emerald-50 border border-emerald-200 shadow-sm\">\r\n        <p class=\"text-[9px] font-black uppercase tracking-[0.15em] text-emerald-600\">Este MÃªs</p>\r\n        <p class=\"text-xl font-black text-emerald-700\">{{ format.currency(totalMesAtual) }}</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Tabela Compacta -->\r\n    <div class=\"rounded-xl border border-slate-200 bg-white overflow-hidden shadow-sm\">\r\n      <Table\r\n        :columns=\"columns\"\r\n        :rows=\"paginadas\"\r\n        :loading=\"loading\"\r\n        empty-text=\"Nenhuma compra encontrada.\"\r\n        :boxed=\"false\"\r\n        :expandable=\"true\"\r\n      >\r\n        <template #cell-fornecedor=\"{ row }\">\r\n          <div class=\"py-1\">\r\n            <span class=\"text-sm font-bold text-slate-800 block truncate\">\r\n              {{ nomeFornecedor(row) }}\r\n            </span>\r\n\r\n            <div class=\"flex items-center gap-2 mt-0.5\">\r\n              <span\r\n                class=\"text-[8px] font-black px-1.5 py-0.5 rounded border\"\r\n                :class=\"\r\n                  row.tipo_compra === 'INSUMOS'\r\n                    ? 'bg-blue-50 text-blue-600 border-blue-100'\r\n                    : 'bg-amber-50 text-amber-600 border-amber-100'\r\n                \"\r\n              >\r\n                {{ row.tipo_compra === 'INSUMOS' ? 'ðŸ“¦' : `ðŸŽ¯ #${row.venda_id}` }}\r\n              </span>\r\n\r\n              <span class=\"text-[8px] font-bold text-slate-400\">\r\n                #{{ row.id }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </template>\r\n\r\n        <template #cell-status=\"{ row }\">\r\n          <div class=\"scale-90\">\r\n            <StatusBadge :value=\"row.status || 'RASCUNHO'\" />\r\n          </div>\r\n        </template>\r\n\r\n        <template #cell-valor_total=\"{ row }\">\r\n          <span class=\"text-sm font-bold text-slate-800 tabular-nums\">\r\n            {{ format.currency(row.valor_total) }}\r\n          </span>\r\n        </template>\r\n\r\n        <template #cell-data_compra=\"{ row }\">\r\n          <span class=\"text-xs font-bold text-slate-600\">\r\n            {{ format.date(row.data_compra) }}\r\n          </span>\r\n        </template>\r\n\r\n        <template #cell-acoes=\"{ row }\">\r\n          <div class=\"flex justify-end gap-1\">\r\n            <button\r\n  v-if=\"can('compras.editar')\"\r\n  @click=\"router.push(`/compras/${row.id}`)\"\r\n              class=\"w-8 h-8 rounded-lg bg-slate-100 text-slate-500 hover:bg-brand-primary hover:text-white transition-all flex items-center justify-center\"\r\n            >\r\n              <i class=\"pi pi-pencil text-xs\"></i>\r\n            </button>\r\n\r\n            <button\r\n  v-if=\"can('compras.excluir')\"\r\n  @click=\"confirmarExcluirCompra(row.id)\"\r\n              class=\"w-8 h-8 rounded-lg bg-red-50 text-red-500 hover:bg-red-500 hover:text-white transition-all flex items-center justify-center\"\r\n            >\r\n              <i class=\"pi pi-trash text-xs\"></i>\r\n            </button>\r\n          </div>\r\n        </template>\r\n\r\n        <!-- DETALHES (EXPAND) -->\r\n        <template #row-expand=\"{ row }\">\r\n          <div class=\"grid grid-cols-12 gap-4\">\r\n            <!-- Itens -->\r\n            <div class=\"col-span-12 md:col-span-8\">\r\n              <div class=\"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2\">\r\n                Itens\r\n              </div>\r\n\r\n              <div v-if=\"row.itens?.length\" class=\"space-y-2\">\r\n                <div\r\n                  v-for=\"it in row.itens\"\r\n                  :key=\"it.id\"\r\n                  class=\"flex items-center justify-between rounded-xl border border-slate-200 bg-white px-4 py-3\"\r\n                >\r\n                  <div class=\"min-w-0\">\r\n                    <div class=\"text-xs font-black uppercase truncate\">{{ it.nome_produto }}</div>\r\n                    <div class=\"text-[10px] font-bold text-slate-400 uppercase\">\r\n                      {{ Number(it.quantidade) }} {{ it.unidade }} â€¢\r\n                      R$ {{ Number(it.valor_unitario).toLocaleString('pt-br', { minimumFractionDigits: 2 }) }}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"text-sm font-black text-slate-800 tabular-nums\">\r\n                    R$ {{ Number(it.valor_total).toLocaleString('pt-br', { minimumFractionDigits: 2 }) }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div v-else class=\"text-xs font-bold text-slate-400 uppercase tracking-wider\">\r\n                Sem itens.\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Rateio -->\r\n            <div class=\"col-span-12 md:col-span-4\">\r\n              <div class=\"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2\">\r\n                Rateio\r\n              </div>\r\n\r\n              <div v-if=\"row.rateios?.length\" class=\"space-y-2\">\r\n                <div\r\n                  v-for=\"r in row.rateios\"\r\n                  :key=\"r.id\"\r\n                  class=\"flex items-center justify-between rounded-xl border border-slate-200 bg-white px-4 py-3\"\r\n                >\r\n                  <div class=\"text-xs font-black uppercase truncate\">{{ r.nome_ambiente }}</div>\r\n                  <div class=\"text-sm font-black text-slate-800 tabular-nums\">\r\n                    R$ {{ Number(r.valor_alocado).toLocaleString('pt-br', { minimumFractionDigits: 2 }) }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div v-else class=\"text-xs font-bold text-slate-400 uppercase tracking-wider\">\r\n                Sem rateio.\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </Table>\r\n\r\n      <!-- PaginaÃ§Ã£o fora da Table -->\r\n      <div class=\"border-t border-slate-200\">\r\n        <TablePagination\r\n          v-model:page=\"page\"\r\n          :page-size=\"pageSize\"\r\n          :total=\"filtradas.length\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script setup>\r\nimport { ref, onMounted, computed, watch } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { CompraService } from '@/services/index'\r\nimport { format } from '@/utils/format'\r\nimport { notify } from '@/services/notify'\r\nimport { confirm } from '@/services/confirm'\r\nimport { can } from '@/services/permissions'\r\n\r\ndefinePage({ meta: { perm: 'compras.ver' } })\r\n\r\n\r\nconst router = useRouter()\r\nconst compras = ref([])\r\nconst loading = ref(false)\r\nconst filtro = ref('')\r\nconst page = ref(1)\r\nconst pageSize = ref(10)\r\n\r\nconst columns = [\r\n  { key: 'fornecedor', label: 'Fornecedor', width: '35%' },\r\n  { key: 'tipo_compra', label: 'Tipo', width: '12%' },\r\n  { key: 'status', label: 'Status', align: 'center', width: '10%' },\r\n  { key: 'valor_total', label: 'Valor', align: 'right', width: '18%' },\r\n  { key: 'data_compra', label: 'Data', align: 'center', width: '15%' },\r\n  { key: 'acoes', label: '', align: 'right', width: '10%' },\r\n]\r\n\r\nasync function carregar() {\r\n  loading.value = true\r\n  try {\r\n    const res = await CompraService.listar()\r\n    const data = res?.data ?? res\r\n    compras.value = (Array.isArray(data) ? data : []).sort((a, b) => b.id - a.id)\r\n  } catch (error) {\r\n    notify.error('Erro ao carregar compras.')\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nfunction nomeFornecedor(row) {\r\n  const f = row?.fornecedor\r\n  return f?.nome_fantasia || f?.razao_social || `Fornecedor #${row.fornecedor_id}`\r\n}\r\n\r\nconst paginadas = computed(() => {\r\n  const start = (page.value - 1) * pageSize.value\r\n  return filtradas.value.slice(start, start + pageSize.value)\r\n})\r\n\r\nfunction datePart(value) {\r\n  if (!value) return ''\r\n  const s = String(value)\r\n  return s.includes('T') ? s.split('T')[0] : s // YYYY-MM-DD\r\n}\r\n\r\nfunction dateBRFromPart(part) {\r\n  const m = String(part || '').match(/^(\\d{4})-(\\d{2})-(\\d{2})$/)\r\n  if (!m) return ''\r\n  const [, y, mo, d] = m\r\n  return `${d}/${mo}/${y}`\r\n}\r\n\r\nfunction parseDateOnly(value) {\r\n  const part = datePart(value)\r\n  const m = part.match(/^(\\d{4})-(\\d{2})-(\\d{2})$/)\r\n  if (!m) return null\r\n  const y = Number(m[1]), mo = Number(m[2]), d = Number(m[3])\r\n  return new Date(y, mo - 1, d) // local, sem UTC\r\n}\r\n\r\n\r\nconst filtradas = computed(() => {\r\n  const t = String(filtro.value || '').toLowerCase().trim()\r\n  if (!t) return compras.value\r\n\r\nreturn compras.value.filter((c) => {\r\n  const part = datePart(c.data_compra)\r\n  const dataISO = part\r\n  const dataBR  = dateBRFromPart(part)\r\n  const dataFmt = format.date(c.data_compra) || ''\r\n\r\n  const valorNum = Number(c?.valor_total || 0)\r\n  const valorFix = isFinite(valorNum) ? valorNum.toFixed(2) : ''\r\n  const valorBR  = isFinite(valorNum)\r\n    ? valorNum.toLocaleString('pt-BR', { minimumFractionDigits: 2 })\r\n    : ''\r\n  const valorCur = isFinite(valorNum) ? format.currency(valorNum) : ''\r\n\r\n  const campos = [\r\n    c.id,\r\n    c.venda_id,\r\n    nomeFornecedor(c),\r\n    c.status,\r\n    c.tipo_compra,\r\n    dataFmt,\r\n    dataBR,\r\n    dataISO,\r\n    valorNum,\r\n    valorFix,\r\n    valorBR,\r\n    valorCur,\r\n  ]\r\n\r\n  return campos.some((campo) =>\r\n    String(campo ?? '').toLowerCase().includes(t)\r\n  )\r\n})\r\n})\r\n\r\n\r\nconst totalGeral = computed(() => filtradas.value.reduce((acc, c) => acc + Number(c.valor_total || 0), 0))\r\nconst totalInsumos = computed(() => filtradas.value.filter(c => c.tipo_compra === 'INSUMOS').reduce((acc, c) => acc + Number(c.valor_total || 0), 0))\r\nconst totalVendas = computed(() => filtradas.value.filter(c => c.tipo_compra !== 'INSUMOS').reduce((acc, c) => acc + Number(c.valor_total || 0), 0))\r\nconst totalMesAtual = computed(() => {\r\n  const mes = new Date().getMonth(), ano = new Date().getFullYear()\r\n  return filtradas.value.filter(c => {\r\nconst d = parseDateOnly(c.data_compra)\r\nreturn d && d.getMonth() === mes && d.getFullYear() === ano\r\n\r\n  }).reduce((acc, c) => acc + Number(c.valor_total || 0), 0)\r\n})\r\n\r\nasync function confirmarExcluirCompra(id) {\r\n  if (!can('compras.excluir')) return notify.error('Acesso negado.')\r\n\r\n  const ok = await confirm.show('Excluir Compra', 'Esta aÃ§Ã£o nÃ£o pode ser desfeita. Deseja continuar?')\r\n  if (!ok) return\r\n\r\n  try {\r\n    await CompraService.remover(id)\r\n    compras.value = compras.value.filter(c => c.id !== id)\r\n    notify.success('Compra removida com sucesso!')\r\n  } catch (e) {\r\n    notify.error('Erro ao excluir registro.')\r\n  }\r\n}\r\n\r\nwatch(filtro, () => { page.value = 1 })\r\n\r\n\r\nonMounted(carregar)\r\n</script>"],"names":["router","useRouter","compras","ref","loading","filtro","page","pageSize","columns","carregar","res","CompraService","data","a","b","notify","nomeFornecedor","row","f","paginadas","computed","start","filtradas","datePart","value","s","dateBRFromPart","part","m","y","mo","d","parseDateOnly","t","c","dataISO","dataBR","dataFmt","format","valorNum","valorFix","valorBR","valorCur","campo","totalGeral","acc","totalInsumos","totalVendas","totalMesAtual","mes","ano","confirmarExcluirCompra","id","can","confirm","watch","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","$event","_unref","_createBlock","_component_Button","_cache","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_createVNode","_component_Table","_withCtx","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_component_StatusBadge","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_25","_hoisted_26","_a","_hoisted_27","_Fragment","_renderList","it","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_b","_hoisted_34","r","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_component_TablePagination"],"mappings":"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"}