import{y as M,f as u,h as N,g as T,i as z,j as A,r as _,c as k,o as x,b as e,E as P,k as q,H as w,d as V,e as l,u as i,A as p,p as D,t as C,l as h,T as F,a9 as H}from"./index-CH22lQIC.js";import{u as W}from"./useauth-BQLIh4i2.js";const Y=""+new URL("../pwa-192.png",import.meta.url).href,G={class:"h-dvh overflow-hidden bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-50"},J={class:"relative h-dvh grid place-items-center p-4"},K={class:"w-full max-w-[520px] overflow-hidden rounded-3xl border border-slate-200/80 bg-white/85 shadow-[0_26px_70px_-40px_rgba(2,6,23,0.55)] backdrop-blur dark:border-slate-800/70 dark:bg-slate-950/60"},O={class:"px-7 py-6"},Q={class:"grid gap-4"},X={class:"flex items-center justify-between gap-4"},Z={key:0,class:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm font-semibold text-rose-700 dark:border-rose-900/40 dark:bg-rose-950/30 dark:text-rose-200"},$={class:"pt-4 border-t border-slate-200/70 dark:border-slate-800/70 text-center"},ee={class:"text-xs text-slate-400 dark:text-slate-500"},ae={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},te={class:"relative w-full max-w-md overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-2xl dark:border-slate-800 dark:bg-slate-950"},se={class:"px-6 py-6"},le={class:"flex gap-3 pt-2"},ne={__name:"login",setup(oe){const y=M(),{login:S,esqueciSenha:U,loading:r}=W(),g=u(!1),n=u(!1),s=N({usuario:"",senha:""}),c=u(""),b=u(!1),d=u(""),E=()=>{b.value=!b.value},j=T(()=>(s.usuario||"").trim().length>=3&&(s.senha||"").length>=3);z(()=>{const t=localStorage.getItem("erp_lembrar_usuario");t&&(s.usuario=t,n.value=!0)});function m(){g.value=!1,c.value=""}function R(){d.value="",g.value=!0}async function B(){d.value="";try{const t=await S({usuario:s.usuario,senha:s.senha});n.value?localStorage.setItem("erp_lembrar_usuario",s.usuario):localStorage.removeItem("erp_lembrar_usuario"),t!=null&&t.precisa_trocar_senha?y.push("/alterar-senha"):y.push("/")}catch{d.value="Usuário ou senha inválidos."}}async function I(){try{await U(c.value),m(),alert("Enviamos uma senha provisória para seu e-mail.")}catch{}}return A(n,t=>{t||localStorage.removeItem("erp_lembrar_usuario")}),(t,a)=>{const v=_("Input"),L=_("CustomCheckbox"),f=_("Button");return x(),k("div",G,[a[11]||(a[11]=e("div",{class:"fixed inset-0 pointer-events-none"},[e("div",{class:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,rgba(99,102,241,0.10),transparent_55%)] dark:bg-[radial-gradient(ellipse_at_top,rgba(99,102,241,0.16),transparent_55%)]"}),e("div",{class:"absolute inset-0 bg-[radial-gradient(ellipse_at_bottom,rgba(236,72,153,0.08),transparent_60%)] dark:bg-[radial-gradient(ellipse_at_bottom,rgba(236,72,153,0.12),transparent_60%)]"})],-1)),e("div",J,[e("div",K,[a[5]||(a[5]=q('<div class="px-7 py-6 border-b border-slate-200/70 dark:border-slate-800/70"><div class="flex items-center gap-4"><div class="grid size-12 place-items-center rounded-2xl bg-white/80 ring-1 ring-slate-200 shadow-sm backdrop-blur dark:bg-slate-900/50 dark:ring-slate-800"><img src="'+Y+'" alt="Logo" class="size-8 object-contain"></div><div class="flex-1"><p class="text-[10px] font-black uppercase tracking-[0.32em] text-slate-500 dark:text-slate-400">sistema</p><h1 class="text-xl md:text-2xl font-black tracking-tight"> A Casa <span class="text-indigo-600 dark:text-indigo-400">Móveis Planejados.</span></h1></div></div></div>',1)),e("div",O,[e("form",{autocomplete:"off",onSubmit:w(B,["prevent"]),class:"space-y-5"},[e("div",Q,[l(v,{modelValue:s.usuario,"onUpdate:modelValue":a[0]||(a[0]=o=>s.usuario=o),name:"acasa_login_user",label:"Usuário ou E-mail",class:"h-11",forceUpper:!1,disabled:i(r)},null,8,["modelValue","disabled"]),l(v,{modelValue:s.senha,"onUpdate:modelValue":a[1]||(a[1]=o=>s.senha=o),name:"acasa_login_pass",autocomplete:"current-password",type:b.value?"text":"password",label:"Senha",class:"h-11",forceUpper:!1,disabled:i(r)},{suffix:p(()=>[e("button",{type:"button",onClick:E,class:"rounded-xl px-2 py-2 text-slate-500 hover:text-indigo-600 dark:text-slate-400"},[e("i",{class:D([b.value?"pi pi-eye-slash":"pi pi-eye","text-base"])},null,2)])]),_:1},8,["modelValue","type","disabled"])]),e("div",X,[l(L,{modelValue:n.value,"onUpdate:modelValue":a[2]||(a[2]=o=>n.value=o),label:"Lembrar"},null,8,["modelValue"]),e("button",{type:"button",onClick:R,class:"text-xs font-black uppercase text-indigo-600 dark:text-indigo-400"}," Esqueci a senha ")]),d.value?(x(),k("div",Z,C(d.value),1)):V("",!0),l(f,{type:"submit",loading:i(r),fullWidth:"",class:"h-11 rounded-2xl font-black uppercase tracking-[0.25em]",disabled:i(r)||!j.value},{default:p(()=>[...a[4]||(a[4]=[h(" Entrar ",-1)])]),_:1},8,["loading","disabled"]),e("div",$,[e("p",ee," © "+C(new Date().getFullYear())+" A Casa Móveis Planejados. ",1)])],32)])]),(x(),P(H,{to:"body"},[l(F,{name:"fade-scale"},{default:p(()=>[g.value?(x(),k("div",ae,[e("div",{class:"absolute inset-0 bg-black/55 backdrop-blur-sm",onClick:m}),e("div",te,[e("div",{class:"px-6 py-5 border-b border-slate-200/70 dark:border-slate-800/70 flex items-center justify-between"},[a[7]||(a[7]=e("div",null,[e("p",{class:"text-[10px] font-black uppercase tracking-[0.35em] text-slate-500"},"recuperação"),e("h3",{class:"text-lg font-black tracking-tight"},"Recuperar senha")],-1)),e("button",{onClick:m,class:"rounded-xl p-2 text-slate-400 hover:text-rose-500"},[...a[6]||(a[6]=[e("i",{class:"pi pi-times text-lg"},null,-1)])])]),e("div",se,[e("form",{onSubmit:w(I,["prevent"]),class:"space-y-4"},[l(v,{modelValue:c.value,"onUpdate:modelValue":a[3]||(a[3]=o=>c.value=o),label:"E-mail de acesso",type:"email",required:"",forceUpper:!1,disabled:i(r)},null,8,["modelValue","disabled"]),a[10]||(a[10]=e("p",{class:"text-sm text-slate-600 dark:text-slate-400"},"Enviaremos uma senha provisória para seu e-mail.",-1)),e("div",le,[l(f,{type:"button",variant:"secondary",onClick:m,class:"flex-1 h-11 rounded-2xl"},{default:p(()=>[...a[8]||(a[8]=[h("Cancelar",-1)])]),_:1}),l(f,{type:"submit",loading:i(r),class:"flex-1 h-11 rounded-2xl font-black uppercase tracking-[0.25em]"},{default:p(()=>[...a[9]||(a[9]=[h("Enviar",-1)])]),_:1},8,["loading"])])],32)])])])):V("",!0)]),_:1})]))])])}}};export{ne as default};
//# sourceMappingURL=login-DvbEClOk.js.map
