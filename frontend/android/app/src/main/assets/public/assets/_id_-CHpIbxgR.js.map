{"version":3,"file":"_id_-CHpIbxgR.js","sources":["../../../backend/shared/constantes/funcionarios.ts","../../src/pages/funcionarios/[id].vue"],"sourcesContent":["export const FUNCIONARIOS_LOCAL_SETOR_CARGO = {\r\n  'FÁBRICA': [\r\n    {\r\n      setor: 'PRODUCAO',\r\n      cargo: ['MARCENEIRO', 'AUXILIAR_DE_MARCENEIRO', 'MONTADOR', 'AUXILIAR_DE_MONTADOR', 'PROJETISTA'],\r\n    },\r\n    {\r\n      setor: 'ADMINISTRATIVO',\r\n      cargo: ['ADMINISTRATIVO', 'ESTOQUISTA', 'AUXILIAR_DE_ESCRITORIO'],\r\n    },\r\n  ],\r\n  'LOJA': [\r\n    {\r\n      setor: 'VENDAS',\r\n      cargo: ['VENDEDOR', 'AUXILIAR_DE_VENDAS', 'PROJETISTA'],\r\n    },\r\n  ],\r\n}\r\n","<template>\r\n  <div class=\"w-full max-w-[1200px] mx-auto px-2 sm:px-4 pb-16 space-y-4 animate-page-in\">\r\n\r\n    <!-- Header -->\r\n    <Card :shadow=\"true\" class=\"!rounded-3xl overflow-hidden\">\r\n      <div class=\"p-6 sm:p-8 border-b border-slate-100 bg-slate-50/50 flex items-start justify-between gap-4\">\r\n        <div class=\"flex items-center gap-3\">\r\n          <div class=\"w-10 h-10 rounded-xl bg-slate-900 text-white flex items-center justify-center\">\r\n            <i class=\"pi pi-user text-lg\"></i>\r\n          </div>\r\n          <div>\r\n            <h1 class=\"text-lg font-black text-slate-800 uppercase tracking-tight\">\r\n              {{ isEditing ? `Editar Funcionário` : 'Novo Funcionário' }}\r\n            </h1>\r\n            <p class=\"text-[10px] font-bold text-slate-400 uppercase tracking-wider\">\r\n              Cadastro operacional\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <Button\r\n          variant=\"secondary\"\r\n          class=\"!h-10 !rounded-xl !px-4 text-[10px] font-black uppercase tracking-widest\"\r\n          type=\"button\"\r\n          @click=\"router.push('/funcionarios')\"\r\n        >\r\n          <i class=\"pi pi-arrow-left mr-2 text-[10px]\"></i>\r\n          Voltar\r\n        </Button>\r\n      </div>\r\n\r\n      <div class=\"p-6 sm:p-8\">\r\n        <Loading v-if=\"loading\" />\r\n\r\n        <form v-else class=\"space-y-8\" @submit.prevent=\"confirmarSalvarFuncionario\">\r\n\r\n          <!-- Dados pessoais -->\r\n          <section class=\"space-y-4\">\r\n            <div class=\"flex items-center justify-between\">\r\n              <h2 class=\"text-[11px] font-black uppercase tracking-widest text-slate-500\">\r\n                Dados pessoais\r\n              </h2>\r\n              <span class=\"text-[10px] font-black uppercase tracking-widest text-slate-300\">\r\n                Seção 01\r\n              </span>\r\n            </div>\r\n<div class=\"grid grid-cols-12 gap-4\">\r\n  <Input\r\n    class=\"col-span-12 md:col-span-8\"\r\n    v-model=\"form.nome\"\r\n    label=\"Nome Completo *\"\r\n    placeholder=\"Ex: JOÃO DA SILVA\"\r\n    required\r\n  />\r\n\r\n  <Input\r\n    class=\"col-span-12 md:col-span-4\"\r\n    v-model=\"cpfUi\"\r\n    label=\"CPF *\"\r\n    placeholder=\"000.000.000-00\"\r\n    required\r\n  />\r\n\r\n  <Input\r\n    class=\"col-span-12 md:col-span-4\"\r\n    v-model=\"rgUi\"\r\n    label=\"RG\"\r\n    placeholder=\"00.000.000-0\"\r\n  />\r\n\r\n  <Input\r\n    class=\"col-span-12 md:col-span-4\"\r\n    v-model=\"form.data_nascimento\"\r\n    label=\"Data Nascimento\"\r\n    type=\"date\"\r\n    placeholder=\"AAAA-MM-DD\"\r\n  />\r\n\r\n  <Input\r\n    class=\"col-span-12 md:col-span-4\"\r\n    v-model=\"whatsappUi\"\r\n    label=\"WhatsApp\"\r\n    placeholder=\"(00) 00000-0000\"\r\n  />\r\n\r\n  <Input\r\n    class=\"col-span-12 md:col-span-6\"\r\n    v-model=\"emailUi\"\r\n    label=\"E-mail\"\r\n    placeholder=\"nome@dominio.com\"\r\n    :forceUpper=\"false\"\r\n  />\r\n\r\n  <Input\r\n    class=\"col-span-12 md:col-span-6\"\r\n    v-model=\"form.estado_civil\"\r\n    label=\"Estado Civil\"\r\n    placeholder=\"Ex: SOLTEIRO\"\r\n  />\r\n</div>\r\n\r\n          </section>\r\n\r\n          <div class=\"h-px bg-slate-100\"></div>\r\n\r\n          <!-- Endereço -->\r\n          <section class=\"space-y-4\">\r\n            <div class=\"flex items-center justify-between\">\r\n              <h2 class=\"text-[11px] font-black uppercase tracking-widest text-slate-500\">\r\n                Endereço\r\n              </h2>\r\n              <span class=\"text-[10px] font-black uppercase tracking-widest text-slate-300\">\r\n                Seção 02\r\n              </span>\r\n            </div>\r\n\r\n<div class=\"grid grid-cols-12 gap-4\">\r\n  <Input\r\n    class=\"col-span-12 md:col-span-3\"\r\n    v-model=\"cepUi\"\r\n    label=\"CEP\"\r\n    placeholder=\"00000-000\"\r\n    @blur=\"tratarBuscaCep\"\r\n  />\r\n\r\n  <Input\r\n    class=\"col-span-12 md:col-span-7\"\r\n    v-model=\"form.endereco\"\r\n    label=\"Logradouro\"\r\n    placeholder=\"Ex: RUA DAS FLORES\"\r\n  />\r\n\r\n  <Input\r\n    class=\"col-span-12 md:col-span-2\"\r\n    v-model=\"form.numero\"\r\n    label=\"Nº\"\r\n    placeholder=\"123\"\r\n  />\r\n\r\n  <Input\r\n    class=\"col-span-12 md:col-span-4\"\r\n    v-model=\"form.complemento\"\r\n    label=\"Complemento\"\r\n    placeholder=\"Ex: AP 12 / BLOCO B\"\r\n  />\r\n\r\n  <Input\r\n    class=\"col-span-12 md:col-span-4\"\r\n    v-model=\"form.bairro\"\r\n    label=\"Bairro\"\r\n    placeholder=\"Ex: CENTRO\"\r\n  />\r\n\r\n  <Input\r\n    class=\"col-span-12 md:col-span-4\"\r\n    v-model=\"form.cidade\"\r\n    label=\"Cidade\"\r\n    placeholder=\"Ex: SÃO PAULO\"\r\n  />\r\n</div>\r\n\r\n          </section>\r\n\r\n          <div class=\"h-px bg-slate-100\"></div>\r\n\r\n          <!-- Contrato / Alocação -->\r\n          <section class=\"space-y-4\">\r\n            <div class=\"flex items-center justify-between\">\r\n              <h2 class=\"text-[11px] font-black uppercase tracking-widest text-slate-500\">\r\n                Contrato e alocação\r\n              </h2>\r\n              <span class=\"text-[10px] font-black uppercase tracking-widest text-slate-300\">\r\n                Seção 03\r\n              </span>\r\n            </div>\r\n\r\n            <div class=\"grid grid-cols-12 gap-4\">\r\n<div class=\"col-span-12 md:col-span-4 space-y-2\">\r\n  <label class=\"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1\">Unidade *</label>\r\n  <select\r\n    v-model=\"form.unidade\"\r\n    class=\"w-full h-12 px-4 rounded-xl bg-white border border-slate-200 font-bold text-slate-700 outline-none focus:ring-2 focus:ring-brand-primary/10 focus:border-brand-primary transition-all uppercase\"\r\n  >\r\n    <option value=\"\">SELECIONE</option>\r\n    <option v-for=\"opt in unidadeOptions\" :key=\"opt.value\" :value=\"opt.value\">\r\n      {{ opt.label }}\r\n    </option>\r\n  </select>\r\n</div>\r\n\r\n\r\n              <div class=\"col-span-12 md:col-span-4 space-y-2\">\r\n                <label class=\"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1\">Setor *</label>\r\n                <select\r\n                  v-model=\"form.setor\"\r\n                  :disabled=\"!form.unidade\"\r\n                  class=\"w-full h-12 px-4 rounded-xl bg-white border border-slate-200 font-bold text-slate-700 outline-none disabled:opacity-50 transition-all uppercase\"\r\n                >\r\n                  <option value=\"\">SELECIONE</option>\r\n                  <option v-for=\"opt in setorOptions\" :key=\"opt.value\" :value=\"opt.value\">{{ opt.label }}</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div class=\"col-span-12 md:col-span-4 space-y-2\">\r\n                <label class=\"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1\">Cargo *</label>\r\n                <select\r\n                  v-model=\"form.cargo\"\r\n                  :disabled=\"!form.setor\"\r\n                  class=\"w-full h-12 px-4 rounded-xl bg-white border border-slate-200 font-bold text-slate-700 outline-none disabled:opacity-50 transition-all uppercase\"\r\n                >\r\n                  <option value=\"\">SELECIONE</option>\r\n                  <option v-for=\"opt in cargoOptions\" :key=\"opt.value\" :value=\"opt.value\">{{ opt.label }}</option>\r\n                </select>\r\n              </div>\r\n\r\n              <Input class=\"col-span-12 md:col-span-4\" v-model=\"form.admissao\" label=\"Admissão\" type=\"date\" />\r\n              <Input class=\"col-span-12 md:col-span-4\" v-model=\"form.demissao\" label=\"Demissão\" type=\"date\" />\r\n              <Input class=\"col-span-12 md:col-span-4\" v-model=\"form.registro\" label=\"Registro\" />\r\n\r\n              <div class=\"col-span-12 md:col-span-6\">\r\n                <div class=\"rounded-2xl border border-slate-200 bg-slate-50/50 p-4\">\r\n                  <p class=\"text-[10px] font-black uppercase tracking-widest text-slate-400\">Custo hora</p>\r\n                  <p class=\"text-2xl font-black text-slate-900 tabular-nums italic\">{{ custoHoraExibicao }}</p>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"col-span-12 md:col-span-6\">\r\n                <div class=\"rounded-2xl border border-slate-200 bg-slate-50/50 p-4\">\r\n                  <p class=\"text-[10px] font-black uppercase tracking-widest text-slate-400\">Tempo de casa</p>\r\n                  <p class=\"text-lg font-black text-slate-800 italic\">{{ tempoServico }}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"grid grid-cols-12 gap-4\">\r\n              <Input class=\"col-span-6 md:col-span-3\" v-model=\"form.horario_entrada_1\" label=\"Entrada 1\" type=\"time\" @update:modelValue=\"atualizarCargaHoraria\" />\r\n              <Input class=\"col-span-6 md:col-span-3\" v-model=\"form.horario_saida_1\" label=\"Saída 1\" type=\"time\" @update:modelValue=\"atualizarCargaHoraria\" />\r\n              <Input class=\"col-span-6 md:col-span-3\" v-model=\"form.horario_entrada_2\" label=\"Entrada 2\" type=\"time\" @update:modelValue=\"atualizarCargaHoraria\" />\r\n              <Input class=\"col-span-6 md:col-span-3\" v-model=\"form.horario_saida_2\" label=\"Saída 2\" type=\"time\" @update:modelValue=\"atualizarCargaHoraria\" />\r\n\r\n              <Input class=\"col-span-6 md:col-span-3\" v-model=\"form.horario_sabado_entrada_1\" label=\"Sábado entrada\" type=\"time\" @update:modelValue=\"atualizarCargaHoraria\" />\r\n              <Input class=\"col-span-6 md:col-span-3\" v-model=\"form.horario_sabado_saida_1\" label=\"Sábado saída\" type=\"time\" @update:modelValue=\"atualizarCargaHoraria\" />\r\n\r\n              <div class=\"col-span-12 md:col-span-6 grid grid-cols-2 gap-4\">\r\n                <div class=\"rounded-2xl border border-slate-200 bg-white p-4\">\r\n                  <p class=\"text-[10px] font-black uppercase tracking-widest text-slate-400\">Semanal</p>\r\n                  <p class=\"text-xl font-black text-slate-900 tabular-nums italic\">{{ Number(cargaHorariaSemanal).toFixed(1) }}h</p>\r\n                </div>\r\n                <div class=\"rounded-2xl border border-slate-200 bg-white p-4\">\r\n                  <p class=\"text-[10px] font-black uppercase tracking-widest text-slate-400\">Mensal</p>\r\n                  <p class=\"text-xl font-black text-slate-900 tabular-nums italic\">{{ Number(cargaHorariaMensal).toFixed(1) }}h</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          <div class=\"h-px bg-slate-100\"></div>\r\n\r\n          <!-- Financeiro -->\r\n          <section class=\"space-y-4\">\r\n            <div class=\"flex items-center justify-between\">\r\n              <h2 class=\"text-[11px] font-black uppercase tracking-widest text-slate-500\">\r\n                Financeiro\r\n              </h2>\r\n              <span class=\"text-[10px] font-black uppercase tracking-widest text-slate-300\">\r\n                Seção 04\r\n              </span>\r\n            </div>\r\n\r\n            <div class=\"grid grid-cols-12 gap-4\">\r\n<Input\r\n  class=\"col-span-12 md:col-span-3\"\r\n  :modelValue=\"salarioBaseInput\"\r\n  @update:modelValue=\"updateSalarioBase\"\r\n  label=\"Salário Base (R$)\"\r\n  placeholder=\"0,00\"\r\n/>\r\n\r\n<Input\r\n  class=\"col-span-12 md:col-span-3\"\r\n  :modelValue=\"salarioAdicionalInput\"\r\n  @update:modelValue=\"updateSalarioAdicional\"\r\n  label=\"Gratificação (R$)\"\r\n  placeholder=\"0,00\"\r\n/>\r\n\r\n<Input\r\n  class=\"col-span-12 md:col-span-3\"\r\n  :modelValue=\"valeInput\"\r\n  @update:modelValue=\"updateVale\"\r\n  label=\"Vale (R$)\"\r\n  placeholder=\"0,00\"\r\n/>\r\n\r\n<Input\r\n  class=\"col-span-12 md:col-span-3\"\r\n  :modelValue=\"valeTransporteInput\"\r\n  @update:modelValue=\"updateValeTransporte\"\r\n  label=\"Vale Transporte (R$)\"\r\n  placeholder=\"0,00\"\r\n/>\r\n\r\n\r\n              <div class=\"col-span-12 md:col-span-3 space-y-2\">\r\n                <label class=\"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1\">Dia de Pagamento</label>\r\n                <select v-model=\"form.dia_pagamento\" class=\"w-full h-12 px-4 rounded-xl bg-white border border-slate-200 font-bold text-slate-700 outline-none\">\r\n                  <option :value=\"5\">DIA 05</option>\r\n                  <option :value=\"10\">DIA 10</option>\r\n                  <option :value=\"20\">DIA 20</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          <div class=\"h-px bg-slate-100\"></div>\r\n\r\n          <!-- Arquivos -->\r\n         <!-- Arquivos -->\r\n<section class=\"space-y-4\">\r\n  <div class=\"flex items-center justify-between\">\r\n    <h2 class=\"text-[11px] font-black uppercase tracking-widest text-slate-500\">\r\n      Documentos anexos\r\n    </h2>\r\n\r\n    <div class=\"flex items-center gap-2\">\r\n      <input ref=\"fileInput\" type=\"file\" class=\"hidden\" @change=\"onPickArquivo\" />\r\n\r\n      <Button\r\n        v-if=\"can(permSalvar()) && can('arquivos.criar')\"\r\n        variant=\"primary\"\r\n        type=\"button\"\r\n        class=\"!h-10 !rounded-xl !px-4 text-[10px] font-black uppercase tracking-widest\"\r\n        @click=\"clicarAdicionarArquivo\"\r\n      >\r\n        <i class=\"pi pi-upload mr-2 text-[10px]\"></i>\r\n        Adicionar\r\n      </Button>\r\n    </div>\r\n  </div>\r\n\r\n  <p v-if=\"!isEditing\" class=\"text-[10px] font-bold text-slate-400 uppercase tracking-wider\">\r\n    Salve o funcionário para anexar arquivos.\r\n  </p>\r\n\r\n  <div v-else class=\"rounded-2xl border border-slate-200 bg-white overflow-hidden\">\r\n    <Table\r\n      :columns=\"colArquivos\"\r\n      :rows=\"arquivos\"\r\n      :loading=\"loadingArquivos\"\r\n      empty-text=\"Nenhum arquivo anexado.\"\r\n      :boxed=\"false\"\r\n    >\r\n      <template #cell-nome=\"{ row }\">\r\n        <div class=\"flex flex-col\">\r\n          <span class=\"text-xs font-black text-slate-800\">\r\n            {{ row.nome || row.filename }}\r\n          </span>\r\n          <span class=\"text-[10px] font-bold text-slate-400 uppercase tracking-wider\">\r\n            {{ row.mime_type || 'ARQUIVO' }}\r\n          </span>\r\n        </div>\r\n      </template>\r\n\r\n      <template #cell-acoes=\"{ row }\">\r\n        <div class=\"flex justify-end gap-2\">\r\n          <Button variant=\"secondary\" size=\"sm\" type=\"button\" @click=\"abrirArquivo(row)\">\r\n            Ver\r\n          </Button>\r\n\r\n          <Button\r\n            v-if=\"can('arquivos.excluir')\"\r\n            variant=\"danger\"\r\n            size=\"sm\"\r\n            type=\"button\"\r\n            @click=\"excluirArquivo(row.id)\"\r\n          >\r\n            Excluir\r\n          </Button>\r\n        </div>\r\n      </template>\r\n    </Table>\r\n  </div>\r\n</section>\r\n\r\n          <!-- Footer -->\r\n          <footer class=\"pt-2 flex flex-col md:flex-row items-start md:items-center justify-between gap-4\">\r\n            <p class=\"text-[10px] font-black text-slate-400 uppercase tracking-widest\">\r\n              Campos com * são obrigatórios\r\n            </p>\r\n\r\n            <div class=\"flex items-center gap-3 w-full md:w-auto\">\r\n              <Button\r\n                variant=\"secondary\"\r\n                type=\"button\"\r\n                class=\"!h-12 !rounded-2xl !px-6 text-[10px] font-black uppercase tracking-widest\"\r\n                @click=\"router.push('/funcionarios')\"\r\n              >\r\n                Cancelar\r\n              </Button>\r\n\r\n<Button\r\n  v-if=\"can(isEditing ? 'funcionarios.editar' : 'funcionarios.criar')\"\r\n  variant=\"primary\"\r\n  type=\"submit\"\r\n  class=\"!h-12 !rounded-2xl !px-8 text-[10px] font-black uppercase tracking-widest\"\r\n  :loading=\"salvando\"\r\n>\r\n\r\n                <i class=\"pi pi-save mr-2 text-[10px]\"></i>\r\n                Salvar\r\n              </Button>\r\n            </div>\r\n          </footer>\r\n\r\n        </form>\r\n      </div>\r\n    </Card>\r\n\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, watch, nextTick } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { FuncionarioService } from '@/services/index'\r\n\r\nimport { maskCPF, maskRG, maskTelefone, maskCEP, onlyNumbers, maskMoneyBR } from '@/utils/masks'\r\nimport { buscarCep } from '@/utils/utils'\r\nimport { numeroParaMoeda } from '@/utils/number'\r\nimport { upper, raw } from '@/utils/text'\r\nimport { FUNCIONARIOS_LOCAL_SETOR_CARGO } from '@/constantes'\r\nimport { confirm } from '@/services/confirm'\r\nimport { notify } from '@/services/notify'\r\nimport { ArquivosService } from '@/services/arquivos.service'\r\n\r\n\r\nimport { can } from '@/services/permissions'\r\n\r\ndefinePage({ meta: { perm: 'funcionarios.ver' } })\r\n\r\n\r\nconst router = useRouter()\r\nconst route = useRoute()\r\n\r\nconst salvando = ref(false)\r\nconst loading = ref(false)\r\n\r\nconst arquivos = ref([])\r\nconst loadingArquivos = ref(false)\r\nconst fileInput = ref(null)\r\nconst syncingForm = ref(false)\r\n\r\nconst colArquivos = [\r\n  { key: 'nome', label: 'ARQUIVO' },\r\n  { key: 'acoes', label: '', align: 'right', width: '220px' },\r\n]\r\n\r\n\r\n// ===== id / modo =====\r\nconst paramId = computed(() => String(route.params.id || 'novo'))\r\nconst isEditing = computed(() => paramId.value !== 'novo')\r\nconst permSalvar = () => (isEditing.value ? 'funcionarios.editar' : 'funcionarios.criar')\r\nconst id = computed(() => (isEditing.value ? paramId.value.replace(/\\D/g, '') : null))\r\n\r\nconst fmtDate = (d) => (d ? String(d).split('T')[0] : '')\r\n\r\n// ===== Form =====\r\nfunction novoForm() {\r\n  return {\r\n    nome: '',\r\n    cpf: '',\r\n    rg: '',\r\n    data_nascimento: '',\r\n    telefone: '',\r\n    whatsapp: '',\r\n    email: '',\r\n    estado_civil: '',\r\n    escolaridade: '',\r\n\r\n    unidade: '',\r\n    setor: '',\r\n    cargo: '',\r\n\r\n    cep: '',\r\n    endereco: '',\r\n    numero: '',\r\n    complemento: '',\r\n    bairro: '',\r\n    cidade: '',\r\n    estado: '',\r\n\r\n    registro: '',\r\n    admissao: '',\r\n    demissao: '',\r\n\r\n    salario_base: 0,\r\n    salario_adicional: 0,\r\n    custo_hora: 0,\r\n\r\n    tem_vale: false,\r\n    vale: 0,\r\n\r\n    tem_vale_transporte: false,\r\n    vale_transporte: 0,\r\n\r\n    horario_entrada_1: '07:30',\r\n    horario_saida_1: '12:00',\r\n    horario_entrada_2: '13:30',\r\n    horario_saida_2: '17:30',\r\n\r\n    horario_sabado_entrada_1: '08:00',\r\n    horario_sabado_saida_1: '12:00',\r\n\r\n    forma_pagamento: 'DINHEIRO',\r\n    dia_pagamento: 5,\r\n    banco: '',\r\n    agencia: '',\r\n    conta: '',\r\n    pix_tipo_chave: '',\r\n    pix_chave: '',\r\n  }\r\n}\r\n\r\nconst form = ref(novoForm())\r\n\r\n// ===== Refs para inputs monetários =====\r\nconst salarioBaseInput = ref('')\r\nconst salarioAdicionalInput = ref('')\r\nconst valeInput = ref('')\r\nconst valeTransporteInput = ref('')\r\n\r\n// ===== helpers money =====\r\nfunction toMoneyNumber(v) {\r\n  const digits = onlyNumbers(v)\r\n  return digits ? Number(digits) / 100 : 0\r\n}\r\nfunction normalizarNumero(v) {\r\n  const n = Number(v)\r\n  return Number.isFinite(n) ? n : 0\r\n}\r\n\r\n// ===== Sincronização dos inputs monetários =====\r\nwatch(() => form.value.salario_base, (val) => {\r\n  salarioBaseInput.value = maskMoneyBR(Number(val || 0))\r\n}, { immediate: true })\r\n\r\nwatch(() => form.value.salario_adicional, (val) => {\r\n  salarioAdicionalInput.value = maskMoneyBR(Number(val || 0))\r\n}, { immediate: true })\r\n\r\nwatch(() => form.value.vale, (val) => {\r\n  valeInput.value = maskMoneyBR(Number(val || 0))\r\n}, { immediate: true })\r\n\r\nwatch(() => form.value.vale_transporte, (val) => {\r\n  valeTransporteInput.value = maskMoneyBR(Number(val || 0))\r\n}, { immediate: true })\r\n\r\nfunction updateSalarioBase(v) {\r\n  const n = toMoneyNumber(v)\r\n  form.value.salario_base = n\r\n  salarioBaseInput.value = maskMoneyBR(n)\r\n  recalcularCustoHora()\r\n}\r\nfunction updateSalarioAdicional(v) {\r\n  const n = toMoneyNumber(v)\r\n  form.value.salario_adicional = n\r\n  salarioAdicionalInput.value = maskMoneyBR(n)\r\n  recalcularCustoHora()\r\n}\r\nfunction updateVale(v) {\r\n  const n = toMoneyNumber(v)\r\n  form.value.vale = n\r\n  valeInput.value = maskMoneyBR(n)\r\n}\r\nfunction updateValeTransporte(v) {\r\n  const n = toMoneyNumber(v)\r\n  form.value.vale_transporte = n\r\n  valeTransporteInput.value = maskMoneyBR(n)\r\n}\r\n\r\n// ===== UI Computed (masks) =====\r\nconst cpfUi = computed({\r\n  get: () => (form.value.cpf ? maskCPF(form.value.cpf) : ''),\r\n  set: (v) => (form.value.cpf = onlyNumbers(v)),\r\n})\r\n\r\nconst rgUi = computed({\r\n  get: () => (form.value.rg || ''),\r\n  set: (v) => (form.value.rg = raw(maskRG(v))),\r\n})\r\n\r\nconst whatsappUi = computed({\r\n  get: () => (form.value.whatsapp ? maskTelefone(form.value.whatsapp) : ''),\r\n  set: (v) => (form.value.whatsapp = onlyNumbers(v)),\r\n})\r\n\r\nconst cepUi = computed({\r\n  get: () => (form.value.cep ? maskCEP(form.value.cep) : ''),\r\n  set: (v) => (form.value.cep = onlyNumbers(v)),\r\n})\r\n\r\nconst emailUi = computed({\r\n  get: () => (form.value.email || ''),\r\n  set: (v) => (form.value.email = String(v || '').toLowerCase().trim()),\r\n})\r\n\r\n// ===== Funções para cálculo de horas =====\r\nconst timeToDecimal = (t) => {\r\n  if (!t || !String(t).includes(':')) return 0\r\n  const [h, m] = String(t).split(':').map((n) => Number(n))\r\n  if (!Number.isFinite(h) || !Number.isFinite(m)) return 0\r\n  return h + m / 60\r\n}\r\n\r\nconst calcularHorasDia = () => {\r\n  const periodo1 = timeToDecimal(form.value.horario_saida_1) - timeToDecimal(form.value.horario_entrada_1)\r\n  const periodo2 = timeToDecimal(form.value.horario_saida_2) - timeToDecimal(form.value.horario_entrada_2)\r\n  return Math.max(0, periodo1) + Math.max(0, periodo2)\r\n}\r\n\r\nconst calcularHorasSabado = () => {\r\n  return timeToDecimal(form.value.horario_sabado_saida_1) - timeToDecimal(form.value.horario_sabado_entrada_1)\r\n}\r\n\r\n// ===== Carga Horária Calculada =====\r\nconst cargaHorariaSemanal = computed(() => {\r\n  const horasDia = calcularHorasDia()\r\n  const horasSabado = calcularHorasSabado()\r\n  return (horasDia * 5) + (horasSabado > 0 ? horasSabado : 0)\r\n})\r\n\r\nconst cargaHorariaMensal = computed(() => cargaHorariaSemanal.value * 4.5)\r\n\r\n// ===== Custo Hora =====\r\nconst custoHoraExibicao = computed(() => numeroParaMoeda(Number(form.value.custo_hora || 0)))\r\n\r\nfunction recalcularCustoHora() {\r\n  const base = Number(form.value.salario_base || 0)\r\n  const adicional = Number(form.value.salario_adicional || 0)\r\n  const total = base + adicional\r\n  const horasMensais = Number(cargaHorariaMensal.value || 0)\r\n\r\n  if (total <= 0 || horasMensais <= 0) {\r\n    form.value.custo_hora = 0\r\n    return\r\n  }\r\n\r\n  form.value.custo_hora = total / horasMensais\r\n}\r\n\r\nconst atualizarCargaHoraria = () => {\r\n  recalcularCustoHora()\r\n}\r\n\r\nwatch(\r\n  () => [\r\n    form.value.horario_entrada_1,\r\n    form.value.horario_saida_1,\r\n    form.value.horario_entrada_2,\r\n    form.value.horario_saida_2,\r\n    form.value.horario_sabado_entrada_1,\r\n    form.value.horario_sabado_saida_1,\r\n  ],\r\n  () => recalcularCustoHora(),\r\n  { immediate: true },\r\n)\r\n\r\n// ===== Tempo de Serviço =====\r\nconst tempoServico = computed(() => {\r\n  if (!form.value.admissao) return '---'\r\n  const inicio = new Date(form.value.admissao)\r\n  const fim = form.value.demissao ? new Date(form.value.demissao) : new Date()\r\n  if (isNaN(inicio.getTime()) || isNaN(fim.getTime())) return '---'\r\n\r\n  let anos = fim.getFullYear() - inicio.getFullYear()\r\n  let meses = fim.getMonth() - inicio.getMonth()\r\n  if (meses < 0) { anos--; meses += 12 }\r\n\r\n  return anos > 0 ? `${anos} anos e ${meses} meses` : `${meses} meses`\r\n})\r\n\r\n// ===== Unidade / Setor / Cargo =====\r\nconst unidadeOptions = computed(() => {\r\n  const src = FUNCIONARIOS_LOCAL_SETOR_CARGO || {}\r\n  return Object.keys(src).map((k) => ({ label: k, value: k }))\r\n})\r\n\r\n\r\nconst setorOptions = computed(() => {\r\n  const grupos = FUNCIONARIOS_LOCAL_SETOR_CARGO?.[form.value.unidade] || []\r\n  return grupos.map(g => ({ label: String(g.setor).replaceAll('_', ' '), value: g.setor }))\r\n})\r\n\r\nconst cargoOptions = computed(() => {\r\n  const grupos = FUNCIONARIOS_LOCAL_SETOR_CARGO?.[form.value.unidade] || []\r\n  const grupo = grupos.find(g => g.setor === form.value.setor)\r\n  return (grupo?.cargo || []).map(v => ({ label: String(v).replaceAll('_', ' '), value: v }))\r\n})\r\n\r\nconst normalizarUnidade = (u) => {\r\n  const s = String(u || '').toUpperCase().trim()\r\n  if (s === 'FABRICA') return 'FÁBRICA'\r\n  return u\r\n}\r\n\r\n\r\nwatch(\r\n  () => form.value.unidade,\r\n  (next, prev) => {\r\n    if (syncingForm.value) return\r\n    if (!prev) return // evita limpar no primeiro set\r\n    if (next === prev) return\r\n    form.value.setor = ''\r\n    form.value.cargo = ''\r\n  },\r\n)\r\n\r\nwatch(\r\n  () => form.value.setor,\r\n  (next, prev) => {\r\n    if (syncingForm.value) return\r\n    if (!prev) return\r\n    if (next === prev) return\r\n    form.value.cargo = ''\r\n  },\r\n)\r\n\r\n\r\n// ===== CEP =====\r\nasync function tratarBuscaCep() {\r\n  const cep = onlyNumbers(form.value.cep)\r\n  if (cep.length !== 8) return\r\n\r\n  const d = await buscarCep(cep)\r\n  if (!d) return\r\n\r\n  form.value.endereco = upper(d.logradouro)\r\n  form.value.bairro = upper(d.bairro)\r\n  form.value.cidade = upper(d.localidade)\r\n  form.value.estado = upper(d.uf)\r\n}\r\n\r\nasync function carregarArquivos() {\r\n  if (!isEditing.value || !id.value) {\r\n    arquivos.value = []\r\n    return\r\n  }\r\n\r\n  loadingArquivos.value = true\r\n  try {\r\n    const res = await ArquivosService.listar({\r\n      ownerType: 'FUNCIONARIO',\r\n      ownerId: Number(id.value),\r\n      categoria: 'ANEXO',\r\n    })\r\n    arquivos.value = Array.isArray(res?.data) ? res.data : []\r\n  } finally {\r\n    loadingArquivos.value = false\r\n  }\r\n}\r\nfunction abrirArquivo(row) {\r\n  const backTo = encodeURIComponent(`/funcionarios/${id.value}`)\r\n  const name = encodeURIComponent(row?.nome || row?.filename || 'ARQUIVO')\r\n  const type = encodeURIComponent(row?.mime_type || '')\r\n\r\n  router.push(`/arquivos/${row.id}?name=${name}&type=${type}&backTo=${backTo}`)\r\n}\r\nasync function excluirArquivo(arquivoId) {\r\n  if (!can('arquivos.excluir')) return notify.error('Acesso negado.')\r\n\r\n  const ok = await confirm.show('Excluir arquivo?', 'Esta ação não pode ser desfeita.')\r\n  if (!ok) return\r\n\r\n  try {\r\n    await ArquivosService.remover(Number(arquivoId))\r\n    notify.success('Arquivo removido.')\r\n    await carregarArquivos()\r\n  } catch (err) {\r\n    notify.error(err?.response?.data?.message || 'Erro ao excluir arquivo.')\r\n  }\r\n}\r\nasync function clicarAdicionarArquivo() {\r\n  if (!can(permSalvar())) return notify.error('Acesso negado.')\r\n\r\n  await garantirIdParaUpload()\r\n  await Promise.resolve()\r\n\r\n  if (!fileInput.value) return notify.error('Input de arquivo não montado.')\r\n  fileInput.value.click()\r\n}\r\n\r\n\r\n\r\n\r\nasync function onPickArquivo(e) {\r\n  const file = e.target.files?.[0]\r\n  e.target.value = ''\r\n  if (!file) return\r\n\r\n  if (!can('arquivos.criar')) return notify.error('Acesso negado.')\r\n\r\n  // se por algum motivo não tiver id, garante novamente\r\n  const funcionarioId = await garantirIdParaUpload()\r\n\r\n  try {\r\n    await ArquivosService.upload({\r\n      ownerType: 'FUNCIONARIO',\r\n      ownerId: Number(funcionarioId),\r\n      categoria: 'ANEXO',\r\n      file,\r\n    })\r\n    notify.success('Arquivo anexado.')\r\n    await carregarArquivos()\r\n  } catch (err) {\r\n    notify.error(err?.response?.data?.message || 'Erro ao anexar arquivo.')\r\n  }\r\n}\r\n\r\n// ===== salvar =====\r\nfunction montarPayload() {\r\n  return {\r\n    ...form.value,\r\n    email: emailUi.value,\r\n\r\n    // ✅ se backend usa funcao:\r\n    funcao: form.value.cargo,\r\n\r\n    salario_base: normalizarNumero(form.value.salario_base),\r\n    salario_adicional: normalizarNumero(form.value.salario_adicional),\r\n    custo_hora: normalizarNumero(form.value.custo_hora),\r\n\r\n    vale: normalizarNumero(form.value.vale),\r\n    vale_transporte: normalizarNumero(form.value.vale_transporte),\r\n\r\n    dia_pagamento: form.value.dia_pagamento ? Number(form.value.dia_pagamento) : null,\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nasync function confirmarSalvarFuncionario() {\r\n  if (!can(permSalvar())) return notify.error('Acesso negado.')\r\n\r\n  const ok = await confirm.show(\r\n    'Salvar Registro',\r\n    `Deseja salvar o registro de \"${form.value.nome}\"?`,\r\n  )\r\n  if (!ok) return\r\n  await salvar()\r\n}\r\n\r\n\r\nasync function salvar() {\r\n  if (!can(permSalvar())) return notify.error('Acesso negado.')\r\n\r\n  if (!form.value.nome || String(form.value.cpf || '').length < 11) {\r\n    alert('Preencha Nome e CPF corretamente.')\r\n    return\r\n  }\r\n\r\n  if (!form.value.unidade || !form.value.setor || !form.value.cargo) {\r\n    alert('Preencha Unidade, Setor e Cargo corretamente.')\r\n    return\r\n  }\r\n\r\n  salvando.value = true\r\n  try {\r\n    recalcularCustoHora()\r\n    const payload = montarPayload()\r\n    const targetId = isEditing.value ? id.value : null\r\n\r\n    await FuncionarioService.salvar(targetId, payload)\r\n\r\n    router.push('/funcionarios') // ✅ SEMPRE VOLTA PRO INDEX\r\n  } catch (err) {\r\n    alert(err?.response?.data?.message || 'Erro ao salvar')\r\n  } finally {\r\n    salvando.value = false\r\n  }\r\n}\r\n\r\n\r\n\r\n// ===== abrir modal arquivos (global) =====\r\nasync function garantirIdParaUpload() {\r\n  if (!can(permSalvar())) return notify.error('Acesso negado.')\r\n\r\n  if (isEditing.value && id.value) return Number(id.value)\r\n\r\n  if (!form.value.nome || String(form.value.cpf || '').length < 11) {\r\n    alert('Preencha Nome e CPF corretamente antes de anexar.')\r\n    throw new Error('Sem nome/cpf')\r\n  }\r\n  if (!form.value.unidade || !form.value.setor || !form.value.cargo) {\r\n    alert('Preencha Unidade, Setor e Cargo antes de anexar.')\r\n    throw new Error('Sem unidade/setor/cargo')\r\n  }\r\n\r\n  recalcularCustoHora()\r\n  const payload = montarPayload()\r\n\r\n  const { data } = await FuncionarioService.salvar(null, payload)\r\n  const newId = data?.id\r\n  if (!newId) throw new Error('Backend não retornou o id do funcionário.')\r\n\r\n  await router.replace(`/funcionarios/${newId}`)\r\n  await carregar()\r\n  return Number(newId)\r\n}\r\n\r\n\r\nasync function carregar() {\r\n  if (!isEditing.value) {\r\n    form.value = novoForm()\r\n    arquivos.value = [] // ✅ limpa anexos na tela de novo\r\n    return\r\n  }\r\n\r\n  if (!id.value) {\r\n    router.push('/funcionarios')\r\n    return\r\n  }\r\n\r\nloading.value = true\r\ntry {\r\n  const { data } = await FuncionarioService.buscar(id.value)\r\n\r\n  syncingForm.value = true\r\n\r\n  form.value = {\r\n    ...novoForm(),\r\n    ...data,\r\n    unidade: normalizarUnidade(data.unidade),\r\n\r\n    data_nascimento: fmtDate(data.data_nascimento),\r\n    admissao: fmtDate(data.admissao),\r\n    demissao: fmtDate(data.demissao),\r\n\r\n    salario_base: normalizarNumero(data.salario_base),\r\n    salario_adicional: normalizarNumero(data.salario_adicional),\r\n    custo_hora: normalizarNumero(data.custo_hora),\r\n\r\n    vale: normalizarNumero(data.vale),\r\n    vale_transporte: normalizarNumero(data.vale_transporte),\r\n\r\n    dia_pagamento: Number(data.dia_pagamento ?? 5),\r\n  }\r\n\r\n  await nextTick()\r\n} catch {\r\n  router.push('/funcionarios')\r\n} finally {\r\n  syncingForm.value = false\r\n  loading.value = false\r\n}\r\n}\r\n\r\nonMounted(async () => {\r\n  const perm = isEditing.value ? 'funcionarios.editar' : 'funcionarios.criar'\r\n  if (!can(perm)) {\r\n    notify.error('Acesso negado.')\r\n    router.push('/funcionarios')\r\n    return\r\n  }\r\n\r\n  await carregar()\r\n  await carregarArquivos()\r\n})\r\n\r\n\r\n\r\nwatch(\r\n  () => String(route.params.id || 'novo'),\r\n  async (next, prev) => {\r\n    if (next === prev) return\r\n\r\n    const perm = next !== 'novo' ? 'funcionarios.editar' : 'funcionarios.criar'\r\n    if (!can(perm)) {\r\n      notify.error('Acesso negado.')\r\n      router.push('/funcionarios')\r\n      return\r\n    }\r\n\r\n    await carregar()\r\n    await carregarArquivos()\r\n  },\r\n)\r\n</script>\r\n\r\n\r\n"],"names":["FUNCIONARIOS_LOCAL_SETOR_CARGO","router","useRouter","route","useRoute","salvando","ref","loading","arquivos","loadingArquivos","fileInput","syncingForm","colArquivos","paramId","computed","isEditing","permSalvar","id","fmtDate","d","novoForm","form","salarioBaseInput","salarioAdicionalInput","valeInput","valeTransporteInput","toMoneyNumber","v","digits","onlyNumbers","normalizarNumero","n","watch","val","maskMoneyBR","updateSalarioBase","recalcularCustoHora","updateSalarioAdicional","updateVale","updateValeTransporte","cpfUi","maskCPF","rgUi","raw","maskRG","whatsappUi","maskTelefone","cepUi","maskCEP","emailUi","timeToDecimal","t","h","m","calcularHorasDia","periodo1","periodo2","calcularHorasSabado","cargaHorariaSemanal","horasDia","horasSabado","cargaHorariaMensal","custoHoraExibicao","numeroParaMoeda","base","adicional","total","horasMensais","atualizarCargaHoraria","tempoServico","inicio","fim","anos","meses","unidadeOptions","k","setorOptions","g","cargoOptions","grupo","normalizarUnidade","u","next","prev","tratarBuscaCep","cep","buscarCep","upper","carregarArquivos","res","ArquivosService","abrirArquivo","row","backTo","name","type","excluirArquivo","arquivoId","can","notify","confirm","err","_b","_a","clicarAdicionarArquivo","garantirIdParaUpload","onPickArquivo","e","file","funcionarioId","_c","montarPayload","confirmarSalvarFuncionario","salvar","payload","targetId","FuncionarioService","data","newId","carregar","nextTick","onMounted","perm","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_component_Card","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","_cache","_component_Button","$event","_unref","_hoisted_5","_createBlock","_component_Loading","_hoisted_6","_hoisted_7","_component_Input","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_Fragment","_renderList","opt","_hoisted_13","_vModelSelect","_hoisted_14","_hoisted_16","_hoisted_17","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_39","_component_Table","_withCtx","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_38","_hoisted_44","_hoisted_45"],"mappings":"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"}