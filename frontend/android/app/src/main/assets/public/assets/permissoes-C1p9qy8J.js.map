{"version":3,"file":"permissoes-C1p9qy8J.js","sources":["../../src/pages/configuracoes/permissoes.vue"],"sourcesContent":["<template>\r\n  <div class=\"w-full max-w-[1200px] mx-auto space-y-4 animate-page-in\">\r\n    \r\n    <div class=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 p-2\">\r\n      <div class=\"flex items-center gap-3\">\r\n        <div class=\"w-10 h-10 rounded-xl bg-slate-900 text-white flex items-center justify-center\">\r\n          <i class=\"pi pi-lock text-lg\"></i>\r\n        </div>\r\n        <div>\r\n          <h1 class=\"text-lg font-black text-slate-800 uppercase tracking-tight\">Permissões de Acesso</h1>\r\n          <p class=\"text-[10px] font-bold text-slate-400 uppercase tracking-wider\">Controle de níveis e segurança por usuário</p>\r\n        </div>\r\n      </div>\r\n\r\n      <Transition name=\"fade\">\r\n        <div v-if=\"usuarioSelecionado\" class=\"flex items-center gap-2 bg-brand-primary/5 px-3 py-1.5 rounded-lg border border-brand-primary/10\">\r\n          <span class=\"w-1.5 h-1.5 rounded-full bg-brand-primary animate-pulse\"></span>\r\n          <span class=\"text-[10px] font-black uppercase text-brand-primary tracking-widest\">\r\n            Editando: {{ usuarioSelecionado.nome }}\r\n          </span>\r\n        </div>\r\n      </Transition>\r\n    </div>\r\n\r\n    <div class=\"bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden min-h-[650px] flex flex-col lg:flex-row\">\r\n      \r\n      <aside class=\"w-full lg:w-80 border-b lg:border-b-0 lg:border-r border-slate-100 flex flex-col bg-slate-50/30\">\r\n        <div class=\"p-4 border-b border-slate-100 bg-white\">\r\n          <div class=\"relative group\">\r\n            <i class=\"pi pi-search absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-[10px]\"></i>\r\n            <input \r\n              v-model=\"filtroUsuarios\"\r\n              type=\"text\"\r\n              placeholder=\"BUSCAR COLABORADOR...\"\r\n              class=\"w-full pl-9 pr-3 h-10 bg-slate-50 border border-slate-200 rounded-xl text-[10px] font-bold uppercase focus:bg-white focus:ring-2 focus:ring-brand-primary/10 focus:border-brand-primary outline-none transition-all\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"flex-1 overflow-y-auto p-3 space-y-1 custom-scroll\">\r\n          <button\r\n            v-for=\"row in usuariosFiltrados\"\r\n            :key=\"row.id\"\r\n            @click=\"selecionarUsuario(row)\"\r\n            :class=\"[\r\n              'w-full p-3 rounded-xl transition-all text-left group border',\r\n              usuarioSelecionado?.id === row.id \r\n                ? 'bg-white border-brand-primary/20 shadow-sm ring-1 ring-brand-primary/10' \r\n                : 'bg-transparent border-transparent hover:bg-white hover:border-slate-200'\r\n            ]\"\r\n          >\r\n            <div class=\"flex flex-col\">\r\n              <span :class=\"['text-[11px] font-black uppercase tracking-tight', usuarioSelecionado?.id === row.id ? 'text-brand-primary' : 'text-slate-700']\">\r\n                {{ row.nome }}\r\n              </span>\r\n              <div class=\"flex items-center gap-2 mt-1\">\r\n                <span class=\"text-[9px] font-bold uppercase text-slate-400 tracking-tighter\">{{ row.setor || 'Geral' }}</span>\r\n<span :class=\"[\r\n  'w-1 h-1 rounded-full',\r\n  String(row.status || '').toUpperCase() === 'ATIVO'\r\n    ? 'bg-emerald-400'\r\n    : String(row.status || '').toUpperCase() === 'PENDENTE'\r\n      ? 'bg-amber-400'\r\n      : 'bg-rose-400'\r\n]\"></span>\r\n\r\n\r\n              </div>\r\n            </div>\r\n          </button>\r\n        </div>\r\n      </aside>\r\n\r\n      <main class=\"flex-1 flex flex-col bg-white\">\r\n        \r\n        <div v-if=\"!usuarioSelecionado\" class=\"flex-1 flex flex-col items-center justify-center p-12 text-center\">\r\n          <div class=\"w-16 h-16 rounded-2xl bg-slate-50 flex items-center justify-center mb-4 border border-slate-100 text-slate-300\">\r\n            <i class=\"pi pi-user-plus text-xl\"></i>\r\n          </div>\r\n          <h4 class=\"text-[11px] font-black text-slate-800 uppercase tracking-widest\">Aguardando Seleção</h4>\r\n          <p class=\"text-[10px] font-bold text-slate-400 uppercase tracking-tight mt-1\">Escolha um colaborador para gerenciar os acessos.</p>\r\n        </div>\r\n\r\n        <template v-else>\r\n          <div class=\"p-6 border-b border-slate-100 flex items-center justify-between bg-white sticky top-0 z-10\">\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"w-8 h-8 rounded-lg bg-slate-100 flex items-center justify-center text-slate-500\">\r\n                <i class=\"pi pi-shield text-xs\"></i>\r\n              </div>\r\n              <h3 class=\"text-xs font-black text-slate-800 uppercase tracking-widest\">Mapa de Acessos</h3>\r\n            </div>\r\n            \r\n\r\n<Button\r\n  v-if=\"temAcesso('permissoes.gerenciar')\"\r\n  variant=\"primary\"\r\n  :loading=\"loadingSalvar\"\r\n  @click=\"confirmarSalvarPermissoes\"\r\n  class=\"!h-10 !px-6 !rounded-xl font-black text-[10px] uppercase tracking-widest shadow-sm\"\r\n>\r\n  Salvar Alterações\r\n</Button>\r\n\r\n          </div>\r\n\r\n          <div class=\"flex-1 overflow-y-auto p-8 space-y-12 custom-scroll bg-white\">\r\n            <div v-for=\"(perms, modulo) in MAPA_PERMISSOES\" :key=\"modulo\" class=\"space-y-4\">\r\n              <div class=\"flex items-center justify-between border-b border-slate-50 pb-2\">\r\n                <h4 class=\"text-[11px] font-black uppercase tracking-[0.15em] text-slate-400 flex items-center gap-2\">\r\n                  <span class=\"w-1 h-3 bg-brand-primary rounded-full\"></span>\r\n                  {{ modulo }}\r\n                </h4>\r\n                <div class=\"flex gap-3\">\r\n                  <button @click=\"confirmarMarcarTudoModulo(modulo, true)\"class=\"text-[9px] font-black uppercase text-brand-primary/60 hover:text-brand-primary transition-colors\">Marcar Todos</button>\r\n                  <button @click=\"confirmarMarcarTudoModulo(modulo, false)\" class=\"text-[9px] font-black uppercase text-slate-300 hover:text-rose-500 transition-colors\">Limpar</button>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3\">\r\n                <label\r\n                  v-for=\"p in perms\"\r\n                  :key=\"p.chave\"\r\n                  :class=\"[\r\n                    'flex items-center p-3 rounded-xl border transition-all cursor-pointer group select-none',\r\n                    temPermissao(p.chave) \r\n                      ? 'bg-brand-primary/5 border-brand-primary/10 shadow-sm shadow-brand-primary/5' \r\n                      : 'bg-white border-slate-100 hover:border-slate-200'\r\n                  ]\"\r\n                >\r\n                  <div class=\"relative flex items-center justify-center h-4 w-4 mr-3\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      class=\"peer opacity-0 absolute inset-0 cursor-pointer z-10\"\r\n                      :checked=\"temPermissao(p.chave)\"\r\n                      @change=\"togglePermissao(p.chave)\"\r\n                    />\r\n                    <div :class=\"[\r\n                      'h-4 w-4 rounded-md border flex items-center justify-center transition-all',\r\n                      temPermissao(p.chave) ? 'bg-brand-primary border-brand-primary' : 'bg-slate-50 border-slate-200'\r\n                    ]\">\r\n                      <i v-if=\"temPermissao(p.chave)\" class=\"pi pi-check text-[8px] text-white font-black\"></i>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div class=\"flex flex-col min-w-0\">\r\n                    <span :class=\"['text-[10px] font-black uppercase tracking-tight truncate transition-colors', temPermissao(p.chave) ? 'text-brand-primary' : 'text-slate-600']\">\r\n                      {{ p.nome }}\r\n                    </span>\r\n                    <span class=\"text-[8px] font-bold text-slate-300 uppercase tracking-tighter\">ID: {{ p.chave }}</span>\r\n                  </div>\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </main>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.custom-scroll::-webkit-scrollbar { width: 3px; }\r\n.custom-scroll::-webkit-scrollbar-track { background: transparent; }\r\n.custom-scroll::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; }\r\n.custom-scroll::-webkit-scrollbar-thumb:hover { background: #cbd5e1; }\r\n\r\n.fade-enter-active, .fade-leave-active { transition: opacity 0.2s ease; }\r\n.fade-enter-from, .fade-leave-to { opacity: 0; }\r\n</style>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { UsuariosService, PermissoesService } from '@/services/index'\r\nimport { useAuth } from '@/services/useauth'\r\nimport { notify } from '@/services/notify'\r\nimport { confirm } from '@/services/confirm'\r\n\r\ndefinePage({ meta: { perm: 'permissoes.ver' } })\r\n\r\n\r\nconst router = useRouter()\r\nconst { temAcesso, usuarioLogado } = useAuth()\r\n\r\n// Estados\r\nconst usuarios = ref([])\r\nconst filtroUsuarios = ref('')\r\nconst usuarioSelecionado = ref(null)\r\nconst permissoesAtivas = ref([])\r\nconst loadingSalvar = ref(false)\r\nconst loadingDados = ref(false)\r\nconst loadingPermissoes = ref(false)\r\nconst catalogoPermissoes = ref([])\r\n\r\n// Chave -> ID\r\nconst mapaChaveParaId = computed(() => {\r\n  const acc = {}\r\n  for (const p of catalogoPermissoes.value) {\r\n    if (p?.chave) acc[p.chave] = p.id\r\n  }\r\n  return acc\r\n})\r\n\r\n// Agrupa permissões por módulo\r\nconst MAPA_PERMISSOES = computed(() => {\r\n  const grupos = {}\r\n  for (const p of catalogoPermissoes.value) {\r\n    const chave = String(p?.chave || '')\r\n    if (!chave) continue\r\n    const modulo = chave.includes('.') ? chave.split('.')[0] : 'geral'\r\n    if (!grupos[modulo]) grupos[modulo] = []\r\n    grupos[modulo].push({\r\n      id: p.id,\r\n      chave: p.chave,\r\n      nome: p.descricao || p.chave,\r\n    })\r\n  }\r\n  for (const m of Object.keys(grupos)) {\r\n    grupos[m].sort((a, b) => String(a.chave).localeCompare(String(b.chave)))\r\n  }\r\n  return grupos\r\n})\r\n\r\n// Filtro usuários\r\nconst usuariosFiltrados = computed(() => {\r\n  const termo = String(filtroUsuarios.value || '').toLowerCase().trim()\r\n  if (!termo) return usuarios.value\r\n  return usuarios.value.filter(u =>\r\n    String(u?.nome || '').toLowerCase().includes(termo) ||\r\n    String(u?.usuario || '').toLowerCase().includes(termo)\r\n  )\r\n})\r\n\r\n// Funções de API\r\nconst carregarCatalogo = async () => {\r\n  try {\r\n    const { data } = await PermissoesService.listar()\r\n    catalogoPermissoes.value = Array.isArray(data) ? data : []\r\n  } catch (e) {\r\n    notify.error('Catálogo de permissões indisponível')\r\n  }\r\n}\r\n\r\nconst carregarUsuarios = async () => {\r\n  loadingDados.value = true\r\n  try {\r\n    const { data } = await UsuariosService.listar()\r\n    usuarios.value = Array.isArray(data) ? data : []\r\n  } finally {\r\n    loadingDados.value = false\r\n  }\r\n}\r\n\r\n// Normaliza o que vem do banco\r\nconst normalizarPerms = (data) => {\r\n  if (!Array.isArray(data)) return []\r\n  // Se vier um array de objetos [{chave: '...'}], extrai só a string da chave\r\n  if (data.length > 0 && typeof data[0] === 'object') {\r\n    return data.map(x => x.chave || x.permission?.chave).filter(Boolean)\r\n  }\r\n  return data\r\n}\r\n\r\n// Selecionar usuário\r\nconst selecionarUsuario = async (u) => {\r\n  usuarioSelecionado.value = u\r\n  loadingPermissoes.value = true\r\n  try {\r\n    const { data } = await PermissoesService.listarDoUsuario(u.id)\r\n    permissoesAtivas.value = normalizarPerms(data)\r\n  } catch (e) {\r\n    notify.error('Erro ao carregar permissões do usuário')\r\n  } finally {\r\n    loadingPermissoes.value = false\r\n  }\r\n}\r\n\r\n// Helpers de tela\r\nconst temPermissao = (chave) => permissoesAtivas.value.includes(chave)\r\n\r\nconst togglePermissao = (chave) => {\r\n  const idx = permissoesAtivas.value.indexOf(chave)\r\n  if (idx >= 0) permissoesAtivas.value.splice(idx, 1)\r\n  else permissoesAtivas.value.push(chave)\r\n}\r\n\r\nconst marcarTudoModulo = (modulo, marcar) => {\r\n  const perms = MAPA_PERMISSOES.value?.[modulo] || []\r\n  const chavesModulo = perms.map(p => p.chave)\r\n  const set = new Set(permissoesAtivas.value)\r\n  chavesModulo.forEach(k => (marcar ? set.add(k) : set.delete(k)))\r\n  permissoesAtivas.value = Array.from(set)\r\n}\r\n\r\n// Ações\r\nasync function confirmarSalvarPermissoes() {\r\n  if (!temAcesso('permissoes.gerenciar')) return notify.error('Acesso negado.')\r\n  if (!usuarioSelecionado.value?.id) return\r\n  const ok = await confirm.show('Salvar', `Deseja salvar as permissões de ${usuarioSelecionado.value.nome}?`)\r\n  if (ok) await salvar()\r\n}\r\n\r\nasync function confirmarMarcarTudoModulo(modulo, marcar) {\r\n  if (!temAcesso('permissoes.gerenciar')) return notify.error('Acesso negado.')\r\n  const ok = await confirm.show(marcar ? 'Marcar' : 'Limpar', `Deseja alterar o módulo ${modulo}?`)\r\n  if (ok) marcarTudoModulo(modulo, marcar)\r\n}\r\n\r\nconst salvar = async () => {\r\n  if (!temAcesso('permissoes.gerenciar')) return notify.error('Acesso negado.')\r\n  loadingSalvar.value = true\r\n  try {\r\n    const ids = permissoesAtivas.value\r\n      .map(chave => Number(mapaChaveParaId.value[chave]))\r\n      .filter(n => Number.isFinite(n))\r\n\r\n    console.log('[PERMS] chaves:', permissoesAtivas.value)\r\n    console.log('[PERMS] ids:', ids)\r\n\r\n    await PermissoesService.definirParaUsuario(usuarioSelecionado.value.id, ids)\r\n\r\n    // confere na hora o que ficou no banco\r\n    const { data } = await PermissoesService.listarDoUsuario(usuarioSelecionado.value.id)\r\n    permissoesAtivas.value = normalizarPerms(data)\r\n\r\n    notify.success('Permissões atualizadas!')\r\n  } catch (e) {\r\n    console.error(e)\r\n    notify.error('Erro ao salvar')\r\n  } finally {\r\n    loadingSalvar.value = false\r\n  }\r\n}\r\n\r\n\r\nonMounted(async () => {\r\n  const user = usuarioLogado.value\r\n  const perms = Array.isArray(user?.permissoes) ? user.permissoes : (Array.isArray(user?.permissões) ? user.permissões : [])\r\n  const ehAdmin = perms.includes('ADMIN')\r\n\r\n  if (!ehAdmin && !temAcesso('permissoes.ver')) {\r\n    notify.error('Acesso negado.')\r\n    router.push('/')\r\n    return\r\n  }\r\n\r\n  await Promise.all([carregarUsuarios(), carregarCatalogo()])\r\n})\r\n\r\n</script>\r\n"],"names":["router","useRouter","temAcesso","usuarioLogado","useAuth","usuarios","ref","filtroUsuarios","usuarioSelecionado","permissoesAtivas","loadingSalvar","loadingDados","loadingPermissoes","catalogoPermissoes","mapaChaveParaId","computed","acc","p","MAPA_PERMISSOES","grupos","chave","modulo","m","a","b","usuariosFiltrados","termo","u","carregarCatalogo","data","PermissoesService","notify","carregarUsuarios","UsuariosService","normalizarPerms","x","_a","selecionarUsuario","temPermissao","togglePermissao","idx","marcarTudoModulo","marcar","chavesModulo","set","k","confirmarSalvarPermissoes","confirm","salvar","confirmarMarcarTudoModulo","ids","n","e","onMounted","user","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_Transition","_hoisted_3","_hoisted_4","_toDisplayString","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","$event","_hoisted_9","_Fragment","_renderList","row","_normalizeClass","_hoisted_11","_b","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_16","_unref","_createBlock","_component_Button","_cache","_hoisted_17","perms","_hoisted_18","_hoisted_19","_createTextVNode","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_15"],"mappings":"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"}