{"version":3,"file":"index-EKMAKGlP.js","sources":["../../src/pages/financeiro/contas-receber/index.vue"],"sourcesContent":["<!-- src/pages/financeiro/contas-receber/index.vue -->\r\n<template>\r\n  <Card :shadow=\"true\">\r\n    <PageHeader\r\n      title=\"Contas a Receber\"\r\n      subtitle=\"Receitas previstas e recebidas (cliente ou fornecedor).\"\r\n      icon=\"pi pi-arrow-up-right\"\r\n      :backTo=\"null\"\r\n    />\r\n\r\n    <div class=\"p-6 relative space-y-6\">\r\n      <Loading v-if=\"loading\" />\r\n\r\n      <template v-else>\r\n        <!-- FILTROS -->\r\n        <div class=\"grid grid-cols-12 gap-4\">\r\n          <SearchInput\r\n            class=\"col-span-12 md:col-span-7\"\r\n            v-model=\"filtroTexto\"\r\n            mode=\"search\"\r\n            label=\"Buscar\"\r\n            placeholder=\"Buscar por descrição, origem, status...\"\r\n          />\r\n\r\n          <SearchInput\r\n            class=\"col-span-12 md:col-span-5\"\r\n            v-model=\"filtroStatus\"\r\n            mode=\"select\"\r\n            label=\"Status\"\r\n            placeholder=\"Selecione...\"\r\n            :options=\"STATUS_OPTIONS\"\r\n          />\r\n        </div>\r\n\r\n        <!-- RESUMO -->\r\n        <div class=\"grid grid-cols-12 gap-4\">\r\n          <div class=\"col-span-12 md:col-span-4 px-4 py-3 rounded-2xl bg-gray-50 border border-gray-100\">\r\n            <div class=\"text-[9px] font-black uppercase tracking-[0.22em] text-gray-400\">Total</div>\r\n            <div class=\"text-lg font-black text-gray-900\">{{ format.currency(totais.total) }}</div>\r\n            <div class=\"text-xs font-bold text-gray-500\">{{ contagens.total }} registros</div>\r\n          </div>\r\n\r\n          <div class=\"col-span-12 md:col-span-4 px-4 py-3 rounded-2xl bg-green-50 border border-green-100\">\r\n            <div class=\"text-[9px] font-black uppercase tracking-[0.22em] text-green-500\">Recebidos</div>\r\n            <div class=\"text-lg font-black text-green-700\">{{ format.currency(totais.recebido) }}</div>\r\n            <div class=\"text-xs font-bold text-green-600\">{{ contagens.recebido }} registros</div>\r\n          </div>\r\n\r\n          <div class=\"col-span-12 md:col-span-4 px-4 py-3 rounded-2xl bg-amber-50 border border-amber-100\">\r\n            <div class=\"text-[9px] font-black uppercase tracking-[0.22em] text-amber-500\">Em aberto</div>\r\n            <div class=\"text-lg font-black text-amber-700\">{{ format.currency(totais.aberto) }}</div>\r\n            <div class=\"text-xs font-bold text-amber-600\">{{ contagens.aberto }} registros</div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- TABELA -->\r\n        <Table\r\n          :columns=\"columns\"\r\n          :rows=\"rowsFiltrados\"\r\n          :loading=\"false\"\r\n          emptyText=\"Nenhuma conta a receber encontrada.\"\r\n          :boxed=\"true\"\r\n        >\r\n          <template #cell-partes=\"{ row }\">\r\n            <div class=\"font-black text-gray-900\">\r\n              <template v-if=\"row.cliente_id\">Cliente #{{ row.cliente_id }}</template>\r\n              <template v-else-if=\"row.fornecedor_id\">Fornecedor #{{ row.fornecedor_id }}</template>\r\n              <template v-else>—</template>\r\n            </div>\r\n            <div class=\"text-xs font-bold text-gray-400\">\r\n              <template v-if=\"row.descricao\">{{ row.descricao }}</template>\r\n              <template v-else>Sem descrição</template>\r\n            </div>\r\n          </template>\r\n\r\n          <template #cell-origem=\"{ row }\">\r\n            <div class=\"font-black text-gray-900\">{{ row.origem_tipo || '—' }}</div>\r\n            <div class=\"text-xs font-bold text-gray-400\">\r\n              <template v-if=\"row.origem_id\">#{{ row.origem_id }}</template>\r\n              <template v-else>—</template>\r\n            </div>\r\n          </template>\r\n\r\n          <template #cell-vencimento=\"{ row }\">\r\n            <div class=\"text-xs font-black text-gray-900\">{{ format.date(row.vencimento_em) }}</div>\r\n          </template>\r\n\r\n          <template #cell-valor=\"{ row }\">\r\n            <div class=\"font-black text-gray-900 text-right\">\r\n              {{ format.currency(Number(row.valor_original || 0)) }}\r\n            </div>\r\n            <div class=\"text-xs font-bold text-gray-400 text-right\">\r\n              Comp.: {{ format.currency(Number(row.valor_compensado || 0)) }}\r\n            </div>\r\n          </template>\r\n\r\n          <template #cell-status=\"{ row }\">\r\n            <StatusBadge :value=\"row.status\" />\r\n          </template>\r\n\r\n          <template #cell-acoes=\"{ row }\">\r\n            <div class=\"flex justify-end gap-2\">\r\n              <Button\r\n                variant=\"secondary\"\r\n                size=\"sm\"\r\n                type=\"button\"\r\n                :disabled=\"acaoLoadingId === row.id\"\r\n                @click=\"abrirReceber(row)\"\r\n              >\r\n                Receber\r\n              </Button>\r\n            </div>\r\n          </template>\r\n        </Table>\r\n      </template>\r\n\r\n      <!-- MODAL: RECEBER -->\r\n      <transition name=\"fade-slide\">\r\n        <div\r\n          v-if=\"receberModal.open\"\r\n          class=\"fixed inset-0 z-50 flex items-center justify-center p-4\"\r\n          @mousedown.self=\"fecharReceber\"\r\n        >\r\n          <div class=\"absolute inset-0 bg-black/20 backdrop-blur-sm\"></div>\r\n\r\n          <div class=\"relative w-full max-w-2xl rounded-3xl bg-white shadow-2xl overflow-hidden\">\r\n            <div class=\"px-6 py-5 border-b border-gray-100 bg-gray-50/40\">\r\n              <div class=\"text-xs font-black uppercase tracking-[0.22em] text-gray-400\">Receber</div>\r\n              <div class=\"text-lg font-black text-gray-900\">\r\n                Conta a Receber #{{ receberModal.id }}\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"p-6 space-y-6\">\r\n              <div class=\"grid grid-cols-12 gap-4\">\r\n                <div class=\"col-span-12 md:col-span-6\">\r\n                  <Input :modelValue=\"receberModal.parteLabel\" label=\"Parte\" readonly />\r\n                </div>\r\n\r\n                <div class=\"col-span-12 md:col-span-6\">\r\n                  <Input :modelValue=\"receberModal.origemLabel\" label=\"Origem\" readonly />\r\n                </div>\r\n\r\n                <div class=\"col-span-12 md:col-span-6\">\r\n                  <Input :modelValue=\"format.currency(Number(receberModal.valor_original || 0))\" label=\"Valor\" readonly />\r\n                </div>\r\n\r\n                <div class=\"col-span-12 md:col-span-6\">\r\n                  <Input :modelValue=\"format.date(receberModal.vencimento_em)\" label=\"Vencimento\" readonly />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"h-px bg-slate-100\"></div>\r\n\r\n              <div class=\"grid grid-cols-12 gap-4\">\r\n                <div class=\"col-span-12 md:col-span-6\">\r\n                  <SearchInput\r\n                    v-model=\"receberModal.forma_recebimento_chave\"\r\n                    mode=\"search\"\r\n                    label=\"Forma de recebimento (chave)\"\r\n                    placeholder=\"Ex: PIX, DINHEIRO, CARTAO...\"\r\n                  />\r\n                </div>\r\n\r\n                <div class=\"col-span-12 md:col-span-6\">\r\n                  <label class=\"text-[10px] font-black uppercase tracking-[0.18em] text-gray-400 mb-2 block\">\r\n                    Data de recebimento\r\n                  </label>\r\n                  <input\r\n                    type=\"datetime-local\"\r\n                    class=\"w-full h-12 px-4 rounded-2xl bg-gray-100 border-none font-bolding text-gray-700 font-bold\"\r\n                    v-model=\"receberModal.recebido_em_input\"\r\n                  />\r\n                </div>\r\n\r\n                <div class=\"col-span-12\">\r\n                  <SearchInput\r\n                    v-model=\"receberModal.observacao\"\r\n                    mode=\"search\"\r\n                    label=\"Observação\"\r\n                    placeholder=\"Opcional...\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"px-6 py-4 border-t border-gray-100 bg-gray-50/40 flex items-center justify-end gap-3\">\r\n              <Button variant=\"secondary\" type=\"button\" :disabled=\"receberModal.saving\" @click=\"fecharReceber\">\r\n                Cancelar\r\n              </Button>\r\n              <Button\r\n                variant=\"primary\"\r\n                type=\"button\"\r\n                :loading=\"receberModal.saving\"\r\n                :disabled=\"!podeConfirmarRecebimento\"\r\n                @click=\"confirmarRecebimento\"\r\n              >\r\n                Confirmar\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </transition>\r\n    </div>\r\n  </Card>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, reactive, onMounted } from 'vue'\r\nimport { FinanceiroService } from '@/services/index'\r\nimport { format } from '@/utils/format'\r\n\r\n// ✅ sem importar componentes (já estão no main.js)\r\n\r\nconst loading = ref(true)\r\nconst rows = ref([])\r\n\r\nconst filtroTexto = ref('')\r\nconst filtroStatus = ref(null)\r\n\r\nconst acaoLoadingId = ref(null)\r\n\r\nconst STATUS_OPTIONS = [\r\n  { label: 'EM_ABERTO', value: 'EM_ABERTO' },\r\n  { label: 'VENCIDO', value: 'VENCIDO' },\r\n  { label: 'RECEBIDO', value: 'RECEBIDO' },\r\n  { label: 'CANCELADO', value: 'CANCELADO' },\r\n]\r\n\r\n// colunas\r\nconst columns = [\r\n  { key: 'partes', label: 'Parte / Descrição' },\r\n  { key: 'origem', label: 'Origem', width: '180px' },\r\n  { key: 'vencimento', label: 'Vencimento', width: '160px' },\r\n  { key: 'valor', label: 'Valor', width: '200px', align: 'right' },\r\n  { key: 'status', label: 'Status', width: '160px' },\r\n  { key: 'acoes', label: 'Ações', width: '160px', align: 'right' },\r\n]\r\n\r\n// filtros em memória\r\nconst rowsFiltrados = computed(() => {\r\n  const txt = String(filtroTexto.value || '').trim().toLowerCase()\r\n  const st = filtroStatus.value ? String(filtroStatus.value).trim() : null\r\n\r\n  return (rows.value || []).filter((r) => {\r\n    if (st && String(r.status || '').trim() !== st) return false\r\n    if (!txt) return true\r\n\r\n    const hay = [\r\n      r.descricao,\r\n      r.observacao,\r\n      r.origem_tipo,\r\n      r.origem_id,\r\n      r.status,\r\n      r.forma_recebimento_chave,\r\n      r.cliente_id,\r\n      r.fornecedor_id,\r\n    ]\r\n      .filter(Boolean)\r\n      .join(' ')\r\n      .toLowerCase()\r\n\r\n    return hay.includes(txt)\r\n  })\r\n})\r\n\r\nconst contagens = computed(() => {\r\n  const base = rowsFiltrados.value || []\r\n  const c = { total: base.length, recebido: 0, aberto: 0 }\r\n  for (const r of base) {\r\n    const s = String(r.status || '').toUpperCase()\r\n    if (s === 'RECEBIDO') c.recebido += 1\r\n    else c.aberto += 1\r\n  }\r\n  return c\r\n})\r\n\r\nconst totais = computed(() => {\r\n  const base = rowsFiltrados.value || []\r\n  const t = { total: 0, recebido: 0, aberto: 0 }\r\n\r\n  for (const r of base) {\r\n    const s = String(r.status || '').toUpperCase()\r\n    const v = Number(r.valor_original || 0)\r\n    t.total += v\r\n    if (s === 'RECEBIDO') t.recebido += v\r\n    else t.aberto += v\r\n  }\r\n  return t\r\n})\r\n\r\nasync function carregar() {\r\n  loading.value = true\r\n  try {\r\n    const { data } = await FinanceiroService.listarReceber({})\r\n    rows.value = Array.isArray(data) ? data : []\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// =======================\r\n// MODAL RECEBER\r\n// =======================\r\nconst receberModal = reactive({\r\n  open: false,\r\n  saving: false,\r\n\r\n  id: null,\r\n\r\n  cliente_id: null,\r\n  fornecedor_id: null,\r\n\r\n  origem_tipo: null,\r\n  origem_id: null,\r\n\r\n  descricao: '',\r\n  observacao: '',\r\n\r\n  valor_original: 0,\r\n  valor_compensado: 0,\r\n\r\n  vencimento_em: null,\r\n\r\n  forma_recebimento_chave: '',\r\n  recebido_em_input: '',\r\n})\r\n\r\nfunction toInputDateTime(iso) {\r\n  if (!iso) return ''\r\n  const d = new Date(iso)\r\n  if (Number.isNaN(d.getTime())) return ''\r\n  const y = d.getFullYear()\r\n  const m = String(d.getMonth() + 1).padStart(2, '0')\r\n  const day = String(d.getDate()).padStart(2, '0')\r\n  const hh = String(d.getHours()).padStart(2, '0')\r\n  const mm = String(d.getMinutes()).padStart(2, '0')\r\n  return `${y}-${m}-${day}T${hh}:${mm}`\r\n}\r\nfunction inputToISO(v) {\r\n  if (!v) return null\r\n  const d = new Date(v)\r\n  if (Number.isNaN(d.getTime())) return null\r\n  return d.toISOString()\r\n}\r\n\r\nconst podeConfirmarRecebimento = computed(() => {\r\n  if (receberModal.saving) return false\r\n  if (!receberModal.id) return false\r\n  // data de recebimento pode ser agora se vazio, mas vou exigir preenchido pra não inventar\r\n  if (!String(receberModal.recebido_em_input || '').trim()) return false\r\n  // forma_recebimento é opcional no model, então não obrigo\r\n  return true\r\n})\r\n\r\nfunction abrirReceber(row) {\r\n  receberModal.open = true\r\n  receberModal.saving = false\r\n\r\n  receberModal.id = row.id\r\n\r\n  receberModal.cliente_id = row.cliente_id ?? null\r\n  receberModal.fornecedor_id = row.fornecedor_id ?? null\r\n\r\n  receberModal.origem_tipo = row.origem_tipo ?? null\r\n  receberModal.origem_id = row.origem_id ?? null\r\n\r\n  receberModal.descricao = row.descricao ?? ''\r\n  receberModal.observacao = row.observacao ?? ''\r\n\r\n  receberModal.valor_original = Number(row.valor_original || 0)\r\n  receberModal.valor_compensado = Number(row.valor_compensado || 0)\r\n\r\n  receberModal.vencimento_em = row.vencimento_em ?? null\r\n\r\n  receberModal.forma_recebimento_chave = row.forma_recebimento_chave ?? ''\r\n  receberModal.recebido_em_input = toInputDateTime(new Date().toISOString())\r\n}\r\n\r\nfunction fecharReceber() {\r\n  receberModal.open = false\r\n}\r\n\r\nconst parteLabel = computed(() => {\r\n  if (receberModal.cliente_id) return `Cliente #${receberModal.cliente_id}`\r\n  if (receberModal.fornecedor_id) return `Fornecedor #${receberModal.fornecedor_id}`\r\n  return '—'\r\n})\r\nconst origemLabel = computed(() => {\r\n  const t = receberModal.origem_tipo ? String(receberModal.origem_tipo) : ''\r\n  const id = receberModal.origem_id ? `#${receberModal.origem_id}` : '—'\r\n  return t ? `${t} ${id}` : '—'\r\n})\r\n\r\nObject.defineProperty(receberModal, 'parteLabel', { get: () => parteLabel.value })\r\nObject.defineProperty(receberModal, 'origemLabel', { get: () => origemLabel.value })\r\n\r\nasync function confirmarRecebimento() {\r\n  if (!podeConfirmarRecebimento.value) return\r\n  acaoLoadingId.value = receberModal.id\r\n  receberModal.saving = true\r\n\r\n  try {\r\n    const payload = {\r\n      status: 'RECEBIDO',\r\n      recebido_em: inputToISO(receberModal.recebido_em_input),\r\n      forma_recebimento_chave: receberModal.forma_recebimento_chave\r\n        ? String(receberModal.forma_recebimento_chave).trim()\r\n        : null,\r\n      observacao: receberModal.observacao ? String(receberModal.observacao).trim() : null,\r\n    }\r\n\r\n    await FinanceiroService.receber(receberModal.id, payload)\r\n    fecharReceber()\r\n    await carregar()\r\n  } finally {\r\n    receberModal.saving = false\r\n    acaoLoadingId.value = null\r\n  }\r\n}\r\n\r\nonMounted(carregar)\r\n</script>\r\n\r\n<style scoped>\r\n.fade-slide-enter-active,\r\n.fade-slide-leave-active {\r\n  transition: all 0.16s ease;\r\n}\r\n.fade-slide-enter-from,\r\n.fade-slide-leave-to {\r\n  opacity: 0;\r\n  transform: translateY(-6px);\r\n}\r\n</style>\r\n"],"names":["loading","ref","rows","filtroTexto","filtroStatus","acaoLoadingId","STATUS_OPTIONS","columns","rowsFiltrados","computed","txt","st","r","contagens","base","c","totais","t","s","v","carregar","data","FinanceiroService","receberModal","reactive","toInputDateTime","iso","d","y","m","day","hh","mm","inputToISO","podeConfirmarRecebimento","abrirReceber","row","fecharReceber","parteLabel","origemLabel","id","confirmarRecebimento","payload","onMounted","_createBlock","_component_Card","_createVNode","_component_PageHeader","_createElementVNode","_hoisted_1","_component_Loading","_createElementBlock","_Fragment","_hoisted_2","_component_SearchInput","$event","_hoisted_3","_hoisted_4","_cache","_hoisted_5","_toDisplayString","_unref","format","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_component_Table","_withCtx","_hoisted_13","_hoisted_14","_createTextVNode","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_component_StatusBadge","_hoisted_20","_component_Button","_Transition","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_component_Input","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_vModelText","_hoisted_33","_hoisted_34"],"mappings":"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"}