import{a6 as f}from"./index-CH22lQIC.js";async function H(s){const o=s.replace(/\D/g,"");if(o.length!==8)return null;try{const a=await(await fetch(`https://viacep.com.br/ws/${o}/json`)).json();return a.erro?null:a}catch{return null}}async function D(s){var n,a;const o=String(s||"").replace(/\D/g,"");if(o.length!==14)return null;try{const t=await f.get(`/utils/cnpj/${o}`);return console.log("[buscarCnpj] status:",t.status),console.log("[buscarCnpj] data:",t.data),t.data||null}catch(t){return console.log("[buscarCnpj] ERRO status:",(n=t==null?void 0:t.response)==null?void 0:n.status),console.log("[buscarCnpj] ERRO data:",(a=t==null?void 0:t.response)==null?void 0:a.data),null}}function M(s=48,o=6){const n=Number(s),a=Number(o);return!n||!a?0:n/a}function m(s=[]){const o=[...s].filter(t=>(t==null?void 0:t.status)!=="INVALIDADO").slice().sort((t,l)=>new Date(t.data_hora)-new Date(l.data_hora));let n=0,a=null;for(const t of o){if(t.tipo==="ENTRADA"){a=new Date(t.data_hora);continue}if(t.tipo==="SAIDA"&&a){const c=new Date(t.data_hora)-a;c>0&&(n+=c),a=null}}return n/36e5}function u(s){const o=Math.round((Number(s)||0)*60),n=String(Math.floor(o/60)).padStart(2,"0"),a=String(o%60).padStart(2,"0");return`${n}:${a}`}function p(s){const o=Number(s)<0,n=Math.abs(Number(s)||0),a=Math.round(n*60),t=String(Math.floor(a/60)).padStart(2,"0"),l=String(a%60).padStart(2,"0");return`${o?"-":""}${t}:${l}`}function S({registros:s=[],horasSemana:o=48,diasSemana:n=6}){const a=M(o,n),t=new Map;for(const e of s){const r=new Date(e.data_hora).toISOString().slice(0,10);t.has(r)||t.set(r,[]),t.get(r).push(e)}const c=Array.from(t.keys()).sort().map(e=>{const r=m(t.get(e)),h=r-a;return{dia:e,horas:r,horasHHMM:u(r),meta:a,metaHHMM:u(a),saldo:h,saldoHHMM:p(h)}}),i=c.reduce((e,r)=>e+r.horas,0),d=c.reduce((e,r)=>e+r.saldo,0);return{metaDia:a,linhas:c,totalHoras:i,totalHorasHHMM:u(i),totalSaldo:d,totalSaldoHHMM:p(d)}}export{H as a,D as b,S as c};
//# sourceMappingURL=utils-haS6CNYB.js.map
