{"version":3,"file":"index-DAr-NCKF.js","sources":["../../src/utils/ponto.js","../../src/pages/rh/ponto/relatorio/index.vue"],"sourcesContent":["// frontend/src/utils/ponto.js\r\n\r\nexport function toISODate(d) {\r\n  return d.toISOString().slice(0, 10)\r\n}\r\n\r\nexport function parseISODate(iso) {\r\n  const [y, m, dd] = iso.split('-').map(Number)\r\n  return new Date(Date.UTC(y, m - 1, dd))\r\n}\r\n\r\nexport function listDays(inicioISO, fimISO) {\r\n  const start = parseISODate(inicioISO)\r\n  const end = parseISODate(fimISO)\r\n  const days = []\r\n  for (let d = new Date(start); d <= end; d.setUTCDate(d.getUTCDate() + 1)) {\r\n    days.push(toISODate(d))\r\n  }\r\n  return days\r\n}\r\n\r\nexport function groupRegistrosByDia(registros = []) {\r\n  const map = new Map()\r\n  for (const r of registros) {\r\n    const dia = new Date(r.data_hora).toISOString().slice(0, 10)\r\n    if (!map.has(dia)) map.set(dia, [])\r\n    map.get(dia).push(r)\r\n  }\r\n  return map\r\n}\r\n\r\nexport function groupJustificativasByDia(justificativas = []) {\r\n  const map = new Map()\r\n  for (const j of justificativas) {\r\n    const dia = j.data // <-- depois a gente ajusta pro campo real da sua justificativa\r\n    if (!dia) continue\r\n    if (!map.has(dia)) map.set(dia, [])\r\n    map.get(dia).push(j)\r\n  }\r\n  return map\r\n}\r\n","<template>\r\n  <div class=\"w-full max-w-[1400px] mx-auto space-y-6 animate-in fade-in duration-500\">\r\n    \r\n    <div v-if=\"rows.length\" class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n      <div class=\"bg-white p-5 rounded-3xl shadow-sm border border-slate-100 flex items-center gap-4\">\r\n        <div class=\"w-12 h-12 rounded-2xl bg-slate-900 text-white flex items-center justify-center shadow-lg\">\r\n          <i class=\"pi pi-calendar text-xl\"></i>\r\n        </div>\r\n        <div>\r\n          <p class=\"text-[10px] font-black uppercase text-slate-400\">Meta Diária</p>\r\n          <p class=\"text-2xl font-black text-slate-800 tracking-tighter\">{{ resumo.metaDia.toFixed(2) }}h</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"bg-white p-5 rounded-3xl shadow-sm border border-slate-100 flex items-center gap-4\">\r\n        <div class=\"w-12 h-12 rounded-2xl bg-blue-50 text-blue-600 flex items-center justify-center shadow-inner font-black italic\">HH</div>\r\n        <div>\r\n          <p class=\"text-[10px] font-black uppercase text-slate-400\">Trabalhado</p>\r\n          <p class=\"text-2xl font-black text-slate-800 tracking-tighter\">{{ resumo.totalHorasHHMM }}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"bg-white p-5 rounded-3xl shadow-sm border border-slate-100 flex items-center gap-4\">\r\n        <div :class=\"resumo.totalSaldo >= 0 ? 'bg-emerald-500' : 'bg-rose-500'\" class=\"w-12 h-12 rounded-2xl text-white flex items-center justify-center shadow-lg transition-colors\">\r\n          <i class=\"pi pi-chart-bar text-xl\"></i>\r\n        </div>\r\n        <div>\r\n          <p class=\"text-[10px] font-black uppercase text-slate-400\">Saldo Período</p>\r\n          <p :class=\"resumo.totalSaldo >= 0 ? 'text-emerald-600' : 'text-rose-600'\" class=\"text-2xl font-black tracking-tighter italic\">\r\n            {{ resumo.totalSaldoHHMM }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"bg-white rounded-[2rem] shadow-2xl shadow-slate-200/50 border border-slate-100 overflow-hidden\">\r\n      <header class=\"p-6 bg-slate-50/50 border-b border-slate-100 grid grid-cols-12 gap-4 items-end\">\r\n        <div class=\"col-span-12 md:col-span-4\">\r\n          <label class=\"text-[10px] font-black text-slate-400 uppercase ml-2 mb-1 block italic\">Funcionário</label>\r\n          <select v-model=\"filtros.funcionario_id\" class=\"w-full h-11 bg-white border border-slate-200 rounded-2xl px-4 text-xs font-bold uppercase outline-none focus:ring-2 focus:ring-slate-900 transition-all\">\r\n            <option value=\"\">Selecione...</option>\r\n            <option v-for=\"o in funcionarioOptions\" :key=\"o.value\" :value=\"o.value\">{{ o.label }}</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"col-span-5 md:col-span-3\">\r\n          <label class=\"text-[10px] font-black text-slate-400 uppercase ml-2 mb-1 block italic\">Início</label>\r\n          <input v-model=\"filtros.data_ini\" type=\"date\" class=\"w-full h-11 bg-white border border-slate-200 rounded-2xl px-4 text-xs font-bold outline-none focus:ring-2 focus:ring-slate-900\" />\r\n        </div>\r\n        <div class=\"col-span-5 md:col-span-3\">\r\n          <label class=\"text-[10px] font-black text-slate-400 uppercase ml-2 mb-1 block italic\">Fim</label>\r\n          <input v-model=\"filtros.data_fim\" type=\"date\" class=\"w-full h-11 bg-white border border-slate-200 rounded-2xl px-4 text-xs font-bold outline-none focus:ring-2 focus:ring-slate-900\" />\r\n        </div>\r\n<div class=\"col-span-12 md:col-span-2 grid grid-cols-2 gap-2\">\r\n  <button\r\n    @click=\"buscar\"\r\n    :disabled=\"loadingTabela\"\r\n    class=\"w-full h-11 bg-slate-900 text-white rounded-2xl font-black text-[10px] uppercase italic tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center gap-2\"\r\n  >\r\n    <i class=\"pi pi-search\" v-if=\"!loadingTabela\"></i>\r\n    <i class=\"pi pi-spin pi-spinner\" v-else></i>\r\n    <span class=\"hidden md:block\">Buscar</span>\r\n  </button>\r\n\r\n  <button\r\n    @click=\"gerarRelatorioMensal\"\r\n    :disabled=\"loadingPdf || !filtros.funcionario_id || !filtros.data_ini\"\r\n    class=\"w-full h-11 bg-white border border-slate-200 text-slate-700 rounded-2xl font-black text-[10px] uppercase italic tracking-widest hover:bg-slate-900 hover:text-white transition-all flex items-center justify-center gap-2\"\r\n  >\r\n    <i class=\"pi pi-file-pdf\" v-if=\"!loadingPdf\"></i>\r\n    <i class=\"pi pi-spin pi-spinner\" v-else></i>\r\n    <span class=\"hidden md:block\">PDF</span>\r\n  </button>\r\n</div>\r\n\r\n      </header>\r\n\r\n      <div class=\"overflow-x-auto p-2\">\r\n        <table class=\"w-full border-separate border-spacing-y-2\">\r\n          <thead>\r\n            <tr class=\"text-[10px] font-black text-slate-400 uppercase italic tracking-widest\">\r\n              <th class=\"px-6 py-2 text-left\">Data</th>\r\n              <th class=\"px-2 py-2\">Ent 1</th>\r\n              <th class=\"px-2 py-2\">Sai 1</th>\r\n              <th class=\"px-2 py-2\">Ent 2</th>\r\n              <th class=\"px-2 py-2\">Sai 2</th>\r\n              <th class=\"px-6 py-2 text-right\">Ações</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"row in rowsAgrupadas\" :key=\"row.data\" class=\"group bg-white hover:bg-slate-50 transition-all shadow-sm\">\r\n              <td class=\"px-6 py-4 rounded-l-3xl border-y border-l border-slate-50\">\r\n                <div class=\"flex flex-col\">\r\n                  <span class=\"text-sm font-black text-slate-800 uppercase italic leading-none\">{{ fmtData(row.data) }}</span>\r\n                  <span class=\"text-[9px] font-bold text-slate-400 uppercase mt-1 italic\">{{ getDiaSemana(row.data) }}</span>\r\n                </div>\r\n              </td>\r\n\r\n              <td v-for=\"col in ['ent1', 'sai1', 'ent2', 'sai2']\" :key=\"col\" class=\"px-2 py-4 border-y border-slate-50 text-center\">\r\n                <div class=\"flex items-center justify-center gap-2 group/btn\">\r\n                  <span class=\"tabular-nums font-black text-sm\" :class=\"[row[col]?.hora ? (col.startsWith('ent') ? 'text-blue-600' : 'text-slate-600') : 'text-slate-200', isFimDeSemanaErro(row.data, row[col]?.hora) ? 'text-rose-500' : '']\">\r\n                    {{ row[col]?.hora || '--:--' }}\r\n                  </span>\r\n                  <div v-if=\"row[col]?.id\" class=\"flex items-center opacity-0 group-hover/btn:opacity-100 transition-opacity\">\r\n                    <button @click=\"abrirModalEditar(row[col])\" class=\"text-slate-300 hover:text-blue-500 p-1\"><i class=\"pi pi-pencil text-[9px]\"></i></button>\r\n                    <button @click=\"confirmarExcluirDireto(row[col].id)\" class=\"text-slate-300 hover:text-rose-500 p-1\"><i class=\"pi pi-trash text-[9px]\"></i></button>\r\n                  </div>\r\n                  <button v-else @click=\"abrirModalNovoNaPosicao(row, col)\" class=\"opacity-0 group-hover/btn:opacity-100 text-slate-200 hover:text-slate-900 transition-opacity p-1\">\r\n                    <i class=\"pi pi-plus text-[9px]\"></i>\r\n                  </button>\r\n                </div>\r\n              </td>\r\n\r\n              <td class=\"px-6 py-4 rounded-r-3xl border-y border-r border-slate-50 text-right\">\r\n                 <button @click=\"abrirModalJustificar(row)\" class=\"px-3 py-1.5 rounded-xl bg-slate-100 text-slate-500 text-[9px] font-black uppercase hover:bg-slate-900 hover:text-white transition-all\">Justificar</button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"modalEditar.open\" class=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md\">\r\n      <div class=\"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95\">\r\n        <div class=\"p-8 border-b flex justify-between items-center bg-slate-50/50\">\r\n          <h3 class=\"font-black text-slate-800 uppercase italic\">{{ modalEditar.id ? 'Ajustar Horário' : 'Novo Horário' }}</h3>\r\n          <button @click=\"modalEditar.open = false\" class=\"text-slate-400 hover:text-rose-500\"><i class=\"pi pi-times\"></i></button>\r\n        </div>\r\n        <div class=\"p-8 space-y-4\">\r\n          <div class=\"space-y-1\">\r\n            <label class=\"text-[10px] font-black text-slate-400 uppercase italic\">Data e Hora</label>\r\n            <input type=\"datetime-local\" v-model=\"modalEditar.form.data_hora_local\" class=\"w-full h-12 bg-slate-50 border border-slate-100 rounded-2xl px-4 font-bold text-slate-700 outline-none focus:ring-2 focus:ring-slate-900\" />\r\n          </div>\r\n          <div class=\"space-y-1\">\r\n            <label class=\"text-[10px] font-black text-slate-400 uppercase italic\">Tipo</label>\r\n            <select v-model=\"modalEditar.form.tipo\" class=\"w-full h-12 bg-slate-50 border border-slate-100 rounded-2xl px-4 font-bold text-slate-700 outline-none\">\r\n              <option value=\"ENTRADA\">ENTRADA</option>\r\n              <option value=\"SAIDA\">SAÍDA</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"space-y-1\">\r\n            <label class=\"text-[10px] font-black text-slate-400 uppercase italic\">Observação</label>\r\n            <input v-model=\"modalEditar.form.observacao\" class=\"w-full h-12 bg-slate-50 border border-slate-100 rounded-2xl px-4 font-bold text-slate-700 outline-none\" placeholder=\"Motivo do ajuste...\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"p-6 bg-slate-50 flex gap-3\">\r\n          <button @click=\"modalEditar.open = false\" class=\"flex-1 h-12 rounded-2xl font-black text-[10px] uppercase bg-white border border-slate-200 text-slate-400\">Cancelar</button>\r\n          <button @click=\"confirmarSalvarEdicao\" :disabled=\"modalEditar.saving\" class=\"flex-1 h-12 rounded-2xl font-black text-[10px] uppercase bg-slate-900 text-white shadow-lg shadow-slate-200\">\r\n            {{ modalEditar.saving ? 'Gravando...' : 'Salvar' }}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"modalJust.open\" class=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md\">\r\n      <div class=\"bg-white w-full max-w-2xl rounded-[2.5rem] shadow-2xl overflow-hidden flex flex-col max-h-[90vh]\">\r\n        <div class=\"p-8 border-b flex justify-between items-center bg-slate-50/50\">\r\n          <div>\r\n            <h3 class=\"font-black text-slate-800 uppercase italic text-xl leading-none\">Justificativa</h3>\r\n            <p class=\"text-[10px] font-bold text-slate-400 uppercase mt-2 tracking-widest italic\">Data: {{ fmtData(modalJust.dia) }}</p>\r\n          </div>\r\n          <button @click=\"modalJust.open = false\" class=\"text-slate-400 hover:text-rose-500\"><i class=\"pi pi-times\"></i></button>\r\n        </div>\r\n        <div class=\"p-8 space-y-6 overflow-y-auto\">\r\n          <div class=\"grid grid-cols-2 gap-4\">\r\n            <div class=\"space-y-1\">\r\n              <label class=\"text-[10px] font-black text-slate-400 uppercase italic\">Tipo (Ex: Atestado)</label>\r\n              <input v-model=\"modalJust.form.tipo\" class=\"w-full h-12 bg-slate-50 border border-slate-100 rounded-2xl px-4 font-bold outline-none\" />\r\n            </div>\r\n            <div class=\"space-y-1\">\r\n              <label class=\"text-[10px] font-black text-slate-400 uppercase italic\">Data</label>\r\n              <input type=\"date\" v-model=\"modalJust.form.data\" class=\"w-full h-12 bg-slate-50 border border-slate-100 rounded-2xl px-4 font-bold outline-none\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"space-y-1\">\r\n            <label class=\"text-[10px] font-black text-slate-400 uppercase italic\">Descrição</label>\r\n            <textarea v-model=\"modalJust.form.descricao\" class=\"w-full h-24 bg-slate-50 border border-slate-100 rounded-2xl p-4 font-bold outline-none resize-none\"></textarea>\r\n          </div>\r\n        </div>\r\n        <div class=\"p-6 bg-slate-50 border-t flex gap-3\">\r\n          <button @click=\"modalJust.open = false\" class=\"flex-1 h-12 rounded-2xl font-black text-[10px] uppercase bg-white border border-slate-200 text-slate-400\">Fechar</button>\r\n          <button @click=\"confirmarSalvarJustificativa\" :disabled=\"modalJust.saving\" class=\"flex-1 h-12 rounded-2xl font-black text-[10px] uppercase bg-slate-900 text-white shadow-lg\">Lançar Justificativa</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, onMounted, reactive, ref } from 'vue'\r\nimport {\r\n  PontoRelatorioService,\r\n  PontoJustificativasService,\r\n  PontoRegistrosService,\r\n  FuncionarioService,\r\n} from '@/services/index'\r\nimport { notify } from '@/services/notify'\r\nimport { consolidarSaldoPeriodo } from '@/utils/utils'\r\nimport { confirm } from '@/services/confirm'\r\nimport { listDays, groupRegistrosByDia } from '@/utils/ponto'\r\nimport { useRouter } from 'vue-router'\r\n\r\n\r\nconst loadingTabela = ref(false)\r\nconst rows = ref([])\r\nconst funcionarioOptions = ref([])\r\nconst funcionarios = ref([])\r\nconst router = useRouter()\r\n\r\nconst loadingPdf = ref(false)\r\n\r\nasync function gerarRelatorioMensal() {\r\n  if (!filtros.funcionario_id) return notify.warn('Selecione um funcionário')\r\n\r\n  const { mes, ano } = getMesAnoReferencia()\r\n  const funcionario_id = Number(String(filtros.funcionario_id).replace(/\\D/g, ''))\r\n\r\n  try {\r\n    loadingPdf.value = true\r\n\r\n    const { data } = await PontoRelatorioService.pdfMensalSalvar({ funcionario_id, mes, ano })\r\n\r\n    router.push(\r\n      `/arquivos/${data.arquivoId}?name=RELATORIO_PONTO_${String(mes).padStart(2,'0')}_${ano}&type=application/pdf`\r\n    )\r\n  } catch (e) {\r\n    console.log('[PONTO] ERRO PDF:', e?.response?.status, e?.response?.data)\r\n    notify.error(e?.response?.data?.message || 'Erro ao gerar PDF')\r\n  } finally {\r\n    loadingPdf.value = false\r\n  }\r\n}\r\n\r\n\r\nconst filtros = reactive({ funcionario_id: '', data_ini: '', data_fim: '' })\r\n\r\n// ✅ remove domingo dos REGISTROS (pra não contar no resumo)\r\nconst rowsFiltrados = computed(() => {\r\n  return (rows.value || []).filter((r) => {\r\n    const dia = new Date(r.data_hora).getDay()\r\n    return dia !== 0 // 0 = Domingo\r\n  })\r\n})\r\n\r\n// ✅ agora pode usar rowsFiltrados\r\nconst registrosPorDia = computed(() => groupRegistrosByDia(rowsFiltrados.value))\r\nconst resumo = computed(() => consolidarSaldoPeriodo({ registros: rowsFiltrados.value }))\r\n\r\n// STATES DOS MODAIS\r\nconst modalEditar = reactive({\r\n  open: false,\r\n  saving: false,\r\n  id: null,\r\n  form: { funcionario_id: null, data_hora_local: '', tipo: 'ENTRADA', observacao: '' },\r\n})\r\n\r\nconst modalJust = reactive({\r\n  open: false,\r\n  saving: false,\r\n  dia: '',\r\n  lista: [],\r\n  form: { funcionario_id: null, data: '', tipo: '', descricao: '' },\r\n})\r\n\r\n// HELPERS\r\nconst fmtData = (v) => (v ? v.split('-').reverse().join('/') : '-')\r\n\r\nconst getDiaSemana = (dataStr) => {\r\n  const dias = ['Domingo', 'Segunda-feira', 'Terça-feira', 'Quarta-feira', 'Quinta-feira', 'Sexta-feira', 'Sábado']\r\n  const data = new Date(dataStr + 'T12:00:00')\r\n  return dias[data.getDay()]\r\n}\r\n\r\nfunction getMesAnoReferencia() {\r\n  // pega do filtro INICIO (ex.: 2026-02-01)\r\n  const base = filtros.data_ini || new Date().toISOString().slice(0, 10)\r\n  const [y, m] = String(base).split('-').map((n) => Number(n))\r\n  return { mes: m, ano: y }\r\n}\r\n\r\n\r\nconst isFimDeSemanaErro = (dataStr, horaStr) => {\r\n  if (!horaStr) return false\r\n  const data = new Date(dataStr + 'T12:00:00')\r\n  const [h, m] = horaStr.split(':').map(Number)\r\n  return data.getDay() === 6 && (h > 12 || (h === 12 && m > 0))\r\n}\r\n\r\nconst funcionarioSelecionado = computed(() => {\r\n  const id = Number(filtros.funcionario_id || 0)\r\n  return funcionarios.value.find((f) => Number(f.id) === id) || null\r\n})\r\n\r\nconst rowsAgrupadas = computed(() => {\r\n  if (!filtros.data_ini || !filtros.data_fim) return []\r\n\r\n  // ✅ lista dias e REMOVE domingo (pra não aparecer na tabela)\r\n  const dias = listDays(filtros.data_ini, filtros.data_fim).filter((dia) => {\r\n    const d = new Date(dia + 'T12:00:00')\r\n    return d.getDay() !== 0\r\n  })\r\n\r\n  const map = registrosPorDia.value\r\n\r\n  return dias\r\n    .map((dia) => {\r\n      const regsDia = (map.get(dia) || [])\r\n        .filter((r) => r.status === 'ATIVO')\r\n        .slice()\r\n        .sort((a, b) => new Date(a.data_hora) - new Date(b.data_hora))\r\n\r\n      const batidas = regsDia.map((reg) => ({\r\n        id: reg.id,\r\n        hora: reg.data_hora.split('T')[1].substring(0, 5),\r\n        tipo: reg.tipo,\r\n        data_hora: reg.data_hora,\r\n        observacao: reg.observacao,\r\n      }))\r\n\r\n      const entradas = batidas.filter((b) => b.tipo === 'ENTRADA')\r\n      const saidas = batidas.filter((b) => b.tipo === 'SAIDA')\r\n\r\n      return {\r\n        data: dia,\r\n        funcionario_id: filtros.funcionario_id,\r\n        ent1: entradas[0],\r\n        sai1: saidas[0],\r\n        ent2: entradas[1],\r\n        sai2: saidas[1],\r\n      }\r\n    })\r\n    .sort((a, b) => b.data.localeCompare(a.data))\r\n})\r\n\r\n// AÇÕES\r\nasync function buscar() {\r\n  if (!filtros.funcionario_id) return notify.warn('Selecione um funcionário')\r\n\r\n  try {\r\n    loadingTabela.value = true\r\n    const { data } = await PontoRelatorioService.listarRegistros({ ...filtros })\r\n    rows.value = data || []\r\n  } catch (e) {\r\n    console.log('[PONTO] ERRO buscar:', e?.response?.status, e?.response?.data)\r\n    notify.error(e?.response?.data?.message || 'Erro ao buscar')\r\n  } finally {\r\n    loadingTabela.value = false\r\n  }\r\n}\r\n\r\nasync function confirmarExcluirDireto(id) {\r\n  if (!(await confirm.show('Excluir', 'Deseja apagar este registro?'))) return\r\n\r\n  try {\r\n    await PontoRegistrosService.remover(id)\r\n    notify.success('Apagado!')\r\n    await buscar()\r\n  } catch (e) {\r\n    console.log('[PONTO] ERRO excluir:', e?.response?.status, e?.response?.data)\r\n    notify.error(e?.response?.data?.message || 'Erro ao excluir')\r\n  }\r\n}\r\n\r\nfunction abrirModalNovoNaPosicao(row, coluna) {\r\n  const f = funcionarioSelecionado.value\r\n\r\n  const h = {\r\n    ent1: f?.horario_entrada_1 || '07:30',\r\n    sai1: f?.horario_saida_1 || '12:00',\r\n    ent2: f?.horario_entrada_2 || '13:30',\r\n    sai2: f?.horario_saida_2 || '17:30',\r\n  }\r\n\r\n  Object.assign(modalEditar, {\r\n    open: true,\r\n    id: null,\r\n    form: {\r\n      funcionario_id: filtros.funcionario_id,\r\n      data_hora_local: `${row.data}T${h[coluna]}`,\r\n      tipo: coluna.startsWith('ent') ? 'ENTRADA' : 'SAIDA',\r\n      observacao: 'AJUSTE MANUAL',\r\n    },\r\n  })\r\n}\r\n\r\nfunction abrirModalEditar(batida) {\r\n  Object.assign(modalEditar, {\r\n    open: true,\r\n    id: batida.id,\r\n    form: {\r\n      funcionario_id: filtros.funcionario_id,\r\n      data_hora_local: batida.data_hora.slice(0, 16).replace(' ', 'T'),\r\n      tipo: batida.tipo,\r\n      observacao: batida.observacao || '',\r\n    },\r\n  })\r\n}\r\n\r\nasync function confirmarSalvarEdicao() {\r\n  try {\r\n    modalEditar.saving = true\r\n\r\n    const payload = {\r\n      funcionario_id: Number(modalEditar.form.funcionario_id),\r\n      tipo: modalEditar.form.tipo,\r\n      observacao: modalEditar.form.observacao || null,\r\n      data_hora: `${modalEditar.form.data_hora_local}:00`,\r\n    }\r\n\r\n    if (modalEditar.id) {\r\n      await PontoRegistrosService.atualizar(modalEditar.id, payload)\r\n    } else {\r\n      await PontoRegistrosService.salvar(payload)\r\n    }\r\n\r\n    notify.success('Sucesso!')\r\n    modalEditar.open = false\r\n    await buscar()\r\n  } catch (e) {\r\n    console.log('[PONTO] ERRO salvar/editar:', e?.response?.status, e?.response?.data)\r\n    notify.error(e?.response?.data?.message || 'Erro ao salvar')\r\n  } finally {\r\n    modalEditar.saving = false\r\n  }\r\n}\r\n\r\nasync function abrirModalJustificar(row) {\r\n  Object.assign(modalJust, {\r\n    open: true,\r\n    dia: row.data,\r\n    form: { funcionario_id: filtros.funcionario_id, data: row.data, tipo: '', descricao: '' },\r\n  })\r\n}\r\n\r\nasync function confirmarSalvarJustificativa() {\r\n  try {\r\n    modalJust.saving = true\r\n    await PontoJustificativasService.salvar(modalJust.form)\r\n    notify.success('Justificativa salva!')\r\n    modalJust.open = false\r\n    await buscar()\r\n  } catch (e) {\r\n    console.log('[PONTO] ERRO justificar:', e?.response?.status, e?.response?.data)\r\n    notify.error(e?.response?.data?.message || 'Erro ao salvar')\r\n  } finally {\r\n    modalJust.saving = false\r\n  }\r\n}\r\n\r\nonMounted(async () => {\r\n  const { data } = await FuncionarioService.listar()\r\n  const lista = (data?.data || data || []).filter((f) => f.status === 'ATIVO')\r\n\r\n  funcionarios.value = lista\r\n  funcionarioOptions.value = lista.map((f) => ({ label: f.nome, value: f.id }))\r\n\r\n  const hoje = new Date()\r\n  filtros.data_ini = new Date(hoje.getFullYear(), hoje.getMonth(), 1).toISOString().slice(0, 10)\r\n  filtros.data_fim = hoje.toISOString().slice(0, 10)\r\n})\r\n</script>\r\n"],"names":["toISODate","d","parseISODate","iso","y","m","dd","listDays","inicioISO","fimISO","start","end","days","groupRegistrosByDia","registros","map","r","dia","loadingTabela","ref","rows","funcionarioOptions","funcionarios","router","useRouter","loadingPdf","gerarRelatorioMensal","filtros","notify","mes","ano","getMesAnoReferencia","funcionario_id","data","PontoRelatorioService","e","_a","_b","_d","_c","reactive","rowsFiltrados","computed","registrosPorDia","resumo","consolidarSaldoPeriodo","modalEditar","modalJust","fmtData","v","getDiaSemana","dataStr","dias","base","n","isFimDeSemanaErro","horaStr","h","funcionarioSelecionado","id","f","rowsAgrupadas","batidas","a","b","reg","entradas","saidas","buscar","confirmarExcluirDireto","confirm","PontoRegistrosService","abrirModalNovoNaPosicao","row","coluna","abrirModalEditar","batida","confirmarSalvarEdicao","payload","abrirModalJustificar","confirmarSalvarJustificativa","PontoJustificativasService","onMounted","FuncionarioService","lista","hoje","_openBlock","_createElementBlock","_hoisted_1","_hoisted_2","_createElementVNode","_hoisted_3","_cache","_hoisted_4","_toDisplayString","_hoisted_5","_hoisted_6","_hoisted_7","_normalizeClass","_hoisted_8","_hoisted_9","_hoisted_10","$event","_Fragment","_renderList","o","_hoisted_11","_vModelSelect","_hoisted_12","_vModelText","_hoisted_13","_hoisted_14","_hoisted_17","_hoisted_16","_hoisted_20","_hoisted_19","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","col","_hoisted_27","_hoisted_28","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54"],"mappings":"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"}