{"version":3,"file":"_id_-BtRnw1Dd.js","sources":["../../src/pages/clientes/[id].vue"],"sourcesContent":["<template>\r\n  <Card class=\"mt-4 mb-8 mx-2 lg:mx-4 shadow-xl rounded-[2.5rem] overflow-hidden animate-page-in\">\r\n    <PageHeader\r\n      :title=\"isEdit ? `Editar Cliente #${clienteId}` : 'Novo Cliente'\"\r\n      subtitle=\"Gerenciamento de dados cadastrais e contato\"\r\n      icon=\"pi pi-user-plus\"\r\n      :backTo=\"'/clientes'\"\r\n      class=\"border-b border-border-ui\"\r\n    />\r\n\r\n    <div class=\"p-8 lg:p-12\">\r\n      <Loading v-if=\"loading\" />\r\n\r\n      <form v-else class=\"space-y-10\" @submit.prevent=\"salvar\" autocomplete=\"off\">\r\n\r\n        \r\n        <!-- Seção de Tipo de Cliente e Indicação -->\r\n        <div class=\"grid grid-cols-12 gap-6 items-end bg-slate-50/50 dark:bg-slate-800/20 p-6 rounded-2xl\">\r\n          <div class=\"col-span-12 md:col-span-3 pb-2\">\r\n            <CustomCheckbox\r\n              v-model=\"isJuridica\"\r\n              label=\"Pessoa Jurídica\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"col-span-12 md:col-span-9\">\r\n            <SearchInput\r\n              v-model=\"form.indicacao_id\"\r\n              mode=\"select\"\r\n              label=\"Quem indicou?\"\r\n              placeholder=\"Pesquisar cliente existente...\"\r\n              :options=\"clientesOptions\"\r\n              labelKey=\"label\"\r\n              valueKey=\"value\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Separador estilizado -->\r\n        <div class=\"relative\">\r\n          <div class=\"absolute inset-0 flex items-center\">\r\n            <div class=\"w-full border-t border-border-ui/50\"></div>\r\n          </div>\r\n          <div class=\"relative flex justify-center\">\r\n            <span class=\"bg-bg-page dark:bg-slate-900 px-4 text-xs font-bold uppercase tracking-wider text-slate-400\">\r\n              Dados Principais\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Dados Pessoais/Jurídicos -->\r\n        <div class=\"grid grid-cols-12 gap-6\">\r\n          <Input\r\n            :class=\"isJuridica ? 'col-span-12 md:col-span-6' : 'col-span-12 md:col-span-9'\"\r\n            v-model=\"form.nome_completo\"\r\n            :label=\"isJuridica ? 'Razão Social' : 'Nome Completo'\"\r\n            placeholder=\"Digite o nome principal...\"\r\n            required\r\n            force-upper\r\n          />\r\n\r\n          <Input\r\n            v-if=\"isJuridica\"\r\n            class=\"col-span-12 md:col-span-3\"\r\n            v-model=\"form.nome_fantasia\"\r\n            label=\"Nome Fantasia\"\r\n            placeholder=\"Opcional\"\r\n            force-upper\r\n          />\r\n\r\n<Input\r\n  class=\"col-span-12 md:col-span-3\"\r\n  v-model=\"form.data_nascimento\"\r\n  :label=\"isJuridica ? 'Data de Abertura' : 'Data de Nascimento'\"\r\n  type=\"date\"\r\n/>\r\n        </div>\r\n\r\n        <!-- Documentos -->\r\n        <div class=\"grid grid-cols-12 gap-6\">\r\n          <template v-if=\"!isJuridica\">\r\n            <Input\r\n  class=\"col-span-12 md:col-span-4\"\r\n  v-model=\"form.cpf\"\r\n  label=\"CPF\"\r\n  placeholder=\"000.000.000-00\"\r\n  @input=\"form.cpf = maskCPF(form.cpf)\"\r\n/>\r\n\r\n            <Input\r\n  class=\"col-span-12 md:col-span-4\"\r\n  v-model=\"form.rg\"\r\n  label=\"RG\"\r\n  placeholder=\"00.000.000-0\"\r\n  @input=\"form.rg = maskRG(form.rg)\"\r\n/>\r\n          </template>\r\n\r\n          <template v-else>\r\n<Input\r\n  class=\"col-span-12 md:col-span-4\"\r\n  v-model=\"form.cnpj\"\r\n  label=\"CNPJ\"\r\n  placeholder=\"00.000.000/0000-00\"\r\n  @input=\"form.cnpj = maskCNPJ(form.cnpj)\"\r\n  @blur=\"onBlurCnpj\"\r\n/>\r\n\r\n<Input\r\n  class=\"col-span-12 md:col-span-4\"\r\n  v-model=\"form.ie\"\r\n  label=\"IE\"\r\n  placeholder=\"Inscrição Estadual\"\r\n  @input=\"form.ie = maskIE(form.ie)\"\r\n/>\r\n\r\n          </template>\r\n\r\n          <div class=\"col-span-12 md:col-span-4\">\r\n            <Select\r\n              v-model=\"form.status\"\r\n              label=\"Status\"\r\n              :options=\"opcoesStatus\"\r\n              force-upper\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Separador estilizado -->\r\n        <div class=\"relative\">\r\n          <div class=\"absolute inset-0 flex items-center\">\r\n            <div class=\"w-full border-t border-border-ui/50\"></div>\r\n          </div>\r\n          <div class=\"relative flex justify-center\">\r\n            <span class=\"bg-bg-page dark:bg-slate-900 px-4 text-xs font-bold uppercase tracking-wider text-slate-400\">\r\n              Contato\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Contato -->\r\n        <div class=\"grid grid-cols-12 gap-6\">\r\n<Input\r\n  class=\"col-span-12 md:col-span-4\"\r\n  v-model=\"form.email\"\r\n  label=\"E-mail\"\r\n  type=\"email\"\r\n  placeholder=\"ex: nome@dominio.com\"\r\n  :force-upper=\"false\"\r\n/>\r\n\r\n<Input\r\n  class=\"col-span-12 md:col-span-4\"\r\n  v-model=\"form.whatsapp\"\r\n  label=\"WhatsApp\"\r\n  placeholder=\"(00) 00000-0000\"\r\n  @input=\"form.whatsapp = maskTelefone(form.whatsapp)\"\r\n/>\r\n\r\n<Input\r\n  class=\"col-span-12 md:col-span-4\"\r\n  v-model=\"form.telefone\"\r\n  label=\"Fixo\"\r\n  placeholder=\"(00) 0000-0000\"\r\n  @input=\"form.telefone = maskTelefone(form.telefone)\"\r\n/>\r\n\r\n          \r\n          <!-- Checkboxes de notificação -->\r\n          <div class=\"col-span-12 grid grid-cols-1 md:grid-cols-2 gap-4 bg-slate-50 dark:bg-slate-800/30 p-6 rounded-2xl border border-border-ui\">\r\n            <CustomCheckbox \r\n              v-model=\"form.enviar_aniversario_email\" \r\n              :label=\"'Aviso por E-mail'\" \r\n              :description=\"form.email ? 'Será enviado para o e-mail cadastrado' : 'Cadastre um e-mail primeiro'\"\r\n              :disabled=\"!form.email\" \r\n            />\r\n            <CustomCheckbox \r\n              v-model=\"form.enviar_aniversario_whatsapp\" \r\n              :label=\"'Aviso por WhatsApp'\" \r\n              :description=\"form.whatsapp ? 'Será enviado para o WhatsApp cadastrado' : 'Cadastre um WhatsApp primeiro'\"\r\n              :disabled=\"!form.whatsapp\" \r\n            />\r\n          </div>\r\n\r\n          <!-- Estado Civil usando o novo componente Select -->\r\n          <div class=\"col-span-12 md:col-span-4\">\r\n            <Select\r\n              v-model=\"form.estado_civil\"\r\n              label=\"Estado Civil\"\r\n              :options=\"opcoesEstadoCivil\"\r\n              force-upper\r\n            />\r\n          </div>\r\n\r\n          <!-- Nome do Cônjuge (ao lado do select, visível apenas se CASADO) -->\r\n          <div class=\"col-span-12 md:col-span-8\">\r\n            <transition name=\"slide-fade\">\r\n              <Input \r\n                v-if=\"form.estado_civil === 'CASADO'\"\r\n                v-model=\"form.nome_conjuge\" \r\n                label=\"Nome do Cônjuge\" \r\n                placeholder=\"Digite o nome completo do cônjuge\"\r\n                force-upper\r\n              />\r\n            </transition>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Separador estilizado -->\r\n        <div class=\"relative\">\r\n          <div class=\"absolute inset-0 flex items-center\">\r\n            <div class=\"w-full border-t border-border-ui/50\"></div>\r\n          </div>\r\n          <div class=\"relative flex justify-center\">\r\n            <span class=\"bg-bg-page dark:bg-slate-900 px-4 text-xs font-bold uppercase tracking-wider text-slate-400\">\r\n              Endereço\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Endereço -->\r\n        <div class=\"grid grid-cols-12 gap-6\">\r\n          <Input \r\n            class=\"col-span-12 md:col-span-3\" \r\n            v-model=\"form.cep\" \r\n            label=\"CEP\" \r\n            placeholder=\"00000-000\"\r\n            @input=\"form.cep = maskCEP(form.cep)\" \r\n            @blur=\"onBlurCep\" \r\n          />\r\n          <Input \r\n            class=\"col-span-12 md:col-span-7\" \r\n            v-model=\"form.endereco\" \r\n            label=\"Logradouro\" \r\n            placeholder=\"Rua, Avenida, etc...\"\r\n            force-upper\r\n          />\r\n          <Input \r\n            class=\"col-span-12 md:col-span-2\" \r\n            v-model=\"form.numero\" \r\n            label=\"Nº\" \r\n            placeholder=\"123\"\r\n            force-upper\r\n          />\r\n          \r\n<Input\r\n  class=\"col-span-12 md:col-span-4\"\r\n  v-model=\"form.bairro\"\r\n  label=\"Bairro\"\r\n  placeholder=\"Ex: Centro\"\r\n  force-upper\r\n/>\r\n\r\n<Input\r\n  class=\"col-span-12 md:col-span-5\"\r\n  v-model=\"form.cidade\"\r\n  label=\"Cidade\"\r\n  placeholder=\"Ex: São Paulo\"\r\n  force-upper\r\n/>\r\n\r\n<Input\r\n  class=\"col-span-12 md:col-span-3\"\r\n  v-model=\"form.estado\"\r\n  label=\"UF (Estado)\"\r\n  placeholder=\"Ex: SP\"\r\n  force-upper\r\n/>\r\n\r\n          <Input \r\n            class=\"col-span-12\" \r\n            v-model=\"form.complemento\" \r\n            label=\"Complemento / Referência\" \r\n            placeholder=\"Apt, Bloco, Próximo a...\"\r\n            force-upper\r\n          />\r\n        </div>\r\n\r\n        <!-- Ações do Formulário - Apenas Salvar e Excluir -->\r\n        <div class=\"pt-10 mt-6 border-t border-border-ui\">\r\n          <div class=\"flex items-center justify-between gap-4\">\r\n            <!-- Espaço vazio à esquerda para balancear -->\r\n            <div></div>\r\n\r\n            <!-- Botão Salvar -->\r\n            <Button\r\n              variant=\"primary\"\r\n              size=\"lg\"\r\n              type=\"submit\"\r\n              :loading=\"saving\"\r\n              class=\"!rounded-xl px-8 py-3\r\n                     bg-gradient-to-r from-brand-primary to-brand-primary/90\r\n                     hover:from-brand-primary hover:to-brand-primary\r\n                     hover:shadow-2xl hover:shadow-brand-primary/30\r\n                     active:scale-[0.98]\r\n                     transition-all duration-300\r\n                     group relative overflow-hidden\"\r\n            >\r\n              <!-- Efeito de brilho -->\r\n              <div class=\"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent \r\n                          translate-x-[-100%] group-hover:translate-x-[100%] \r\n                          transition-transform duration-700\"></div>\r\n              \r\n              <!-- Conteúdo -->\r\n              <span class=\"relative flex items-center justify-center gap-2 font-bold tracking-wide text-white\">\r\n                <i class=\"pi pi-save text-[14px] group-hover:rotate-12 transition-transform\"></i>\r\n                {{ isEdit ? 'ATUALIZAR CLIENTE' : 'CADASTRAR CLIENTE' }}\r\n              </span>\r\n            </Button>\r\n\r\n            <!-- Botão Excluir (apenas em edição) -->\r\n<Button\r\n  v-if=\"isEdit && can('clientes.excluir')\"\r\n  type=\"button\"\r\n  variant=\"danger\"\r\n  size=\"lg\"\r\n  :loading=\"deleting\"\r\n  @click=\"excluir\"\r\n>\r\n  <i class=\"pi pi-trash mr-2 text-[12px]\"></i>\r\n  EXCLUIR\r\n</Button>\r\n\r\n\r\n\r\n            <!-- Espaço vazio à direita para balancear quando não houver botão excluir -->\r\n            <div v-if=\"!isEdit\"></div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </Card>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, onMounted, reactive, ref, watch } from 'vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { ClienteService } from '@/services/index'\r\nimport { notify } from '@/services/notify'\r\nimport { confirm } from '@/services/confirm'\r\nimport { maskCPF, maskCNPJ, maskCEP, maskTelefone, maskRG, maskIE } from '@/utils/masks'\r\nimport { buscarCep, buscarCnpj } from '@/utils/utils'\r\nimport { can } from '@/services/permissions'\r\n\r\nconst route = useRoute()\r\nconst router = useRouter()\r\n\r\n// -- State --\r\nconst loading = ref(false)\r\nconst saving = ref(false)\r\nconst deleting = ref(false)\r\nconst isJuridica = ref(false)\r\nconst listaClientes = ref([])\r\n\r\nconst clienteId = computed(() => Number(route.params?.id))\r\nconst isEdit = computed(() => !!clienteId.value)\r\n\r\n// Opções para os Selects\r\nconst opcoesEstadoCivil = [\r\n  { value: '', label: 'SELECIONE...' },\r\n  { value: 'SOLTEIRO', label: 'SOLTEIRO' },\r\n  { value: 'CASADO', label: 'CASADO' },\r\n  { value: 'DIVORCIADO', label: 'DIVORCIADO' },\r\n  { value: 'VIUVO', label: 'VIÚVO(A)' }\r\n]\r\n\r\nconst opcoesStatus = [\r\n  { value: 'ATIVO', label: 'ATIVO' },\r\n  { value: 'INATIVO', label: 'INATIVO' },\r\n  { value: 'PENDENTE', label: 'PENDENTE' },\r\n  { value: 'BLOQUEADO', label: 'BLOQUEADO' }\r\n]\r\n\r\nconst form = reactive({\r\n  indicacao_id: null,\r\n  nome_completo: '',\r\n  razao_social: '',\r\n  nome_fantasia: '',\r\n  data_nascimento: '',\r\n  cpf: '',\r\n  rg: '',\r\n  cnpj: '',\r\n  ie: '',\r\n  telefone: '',\r\n  whatsapp: '',\r\n  estado_civil: '',\r\n  nome_conjuge: '',\r\n  email: '',\r\n  enviar_aniversario_email: true,\r\n  enviar_aniversario_whatsapp: false,\r\n  cep: '',\r\n  endereco: '',\r\n  numero: '',\r\n  complemento: '',\r\n  bairro: '',\r\n  cidade: '',\r\n  estado: '',\r\n  status: 'ATIVO',\r\n})\r\n\r\n// -- Computed Filters --\r\nconst clientesOptions = computed(() => {\r\n  return listaClientes.value\r\n    .filter(o => !isEdit.value || Number(o.value) !== clienteId.value)\r\n})\r\n\r\n// -- Handlers --\r\nasync function onBlurCep() {\r\n  if (form.cep?.length < 9) return\r\n  const data = await buscarCep(form.cep)\r\n  if (data) {\r\n    form.endereco = data.logradouro || form.endereco\r\n    form.bairro = data.bairro || form.bairro\r\n    form.cidade = data.localidade || form.cidade\r\n    form.estado = data.uf || form.estado\r\n  }\r\n}\r\n\r\nasync function onBlurCnpj() {\r\n  if (form.cnpj?.length < 18) return\r\n  const data = await buscarCnpj(form.cnpj)\r\n  if (data) {\r\n    form.nome_completo = data.razao_social || data.nome || form.nome_completo\r\n    form.nome_fantasia = data.nome_fantasia || data.fantasia || form.nome_fantasia\r\n    form.email = data.email || form.email\r\n    form.cep = data.cep || form.cep\r\n    onBlurCep()\r\n  }\r\n}\r\n\r\n// -- Data Loading --\r\nasync function carregarDados() {\r\n  try {\r\n    loading.value = true\r\n    \r\n    // Carregar lista de clientes para a indicação\r\nconst resClientes = await ClienteService.select()\r\nlistaClientes.value = Array.isArray(resClientes?.data) ? resClientes.data : []\r\n\r\n\r\n    // Se for edição, carregar os dados do cliente\r\n    if (isEdit.value) {\r\n      const resUnico = await ClienteService.buscar(clienteId.value)\r\n      \r\n      if (resUnico?.data) {\r\n        const c = resUnico.data\r\n        \r\n        // Mapear TODOS os campos do formulário\r\n        Object.assign(form, {\r\n          indicacao_id: c.indicacao_id || null,\r\n          nome_completo: c.nome_completo || '',\r\n          razao_social: c.razao_social || '',\r\n          nome_fantasia: c.nome_fantasia || '',\r\n          data_nascimento: c.data_nascimento?.split('T')[0] || '',\r\n          cpf: c.cpf || '',\r\n          rg: c.rg || '',\r\n          cnpj: c.cnpj || '',\r\n          ie: c.ie || '',\r\n          telefone: c.telefone || '',\r\n          whatsapp: c.whatsapp || '',\r\n          estado_civil: c.estado_civil || '',\r\n          nome_conjuge: c.nome_conjuge || '',\r\n          email: c.email || '',\r\n          enviar_aniversario_email: !!c.enviar_aniversario_email,\r\n          enviar_aniversario_whatsapp: !!c.enviar_aniversario_whatsapp,\r\n          cep: c.cep || '',\r\n          endereco: c.endereco || '',\r\n          numero: c.numero || '',\r\n          complemento: c.complemento || '',\r\n          bairro: c.bairro || '',\r\n          cidade: c.cidade || '',\r\n          estado: c.estado || '',\r\n          status: c.status || 'ATIVO',\r\n        })\r\n        \r\n        // Definir se é pessoa jurídica\r\n        isJuridica.value = !!c.cnpj\r\n      }\r\n    }\r\n  } catch (err) {\r\n    console.error('Erro ao carregar dados:', err)\r\n    notify.error('Erro ao carregar dados.')\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// -- Watchers --\r\nwatch(isJuridica, (val) => {\r\n  if (val) { \r\n    form.cpf = ''; \r\n    form.rg = '' \r\n  } else { \r\n    form.cnpj = ''; \r\n    form.ie = ''; \r\n    form.nome_fantasia = '' \r\n  }\r\n})\r\n\r\nwatch(() => form.email, (v) => {\r\n  form.email = String(v || '').toLowerCase().trim()\r\n  if (!form.email) form.enviar_aniversario_email = false\r\n})\r\n\r\nwatch(() => form.whatsapp, (v) => {\r\n  if (!v) form.enviar_aniversario_whatsapp = false\r\n})\r\n\r\nwatch(() => form.estado_civil, (v) => {\r\n  if (v !== 'CASADO') form.nome_conjuge = ''\r\n})\r\n\r\n\r\n// -- Form Actions Original --\r\nasync function salvar() {\r\n  if (saving.value) return\r\n\r\n  const perm = isEdit.value ? 'clientes.editar' : 'clientes.criar'\r\n  if (!can(perm)) {\r\n    notify.error('Acesso negado.')\r\n    return\r\n  }\r\n\r\n  saving.value = true\r\n\r\n  try {\r\nconst payload = {\r\n  ...form,\r\n  data_nascimento: form.data_nascimento ? form.data_nascimento : null,\r\n\r\n  razao_social: isJuridica.value ? form.nome_completo : null,\r\n  email: form.email ? String(form.email).toLowerCase().trim() : null,\r\n  nome_conjuge: form.estado_civil === 'CASADO' ? (form.nome_conjuge || null) : null,\r\n  enviar_aniversario_email: form.email ? !!form.enviar_aniversario_email : false,\r\n  enviar_aniversario_whatsapp: form.whatsapp ? !!form.enviar_aniversario_whatsapp : false,\r\n  indicacao_id: form.indicacao_id ? Number(form.indicacao_id) : null,\r\n}\r\n\r\n    if (!isJuridica.value) {\r\n      delete payload.cnpj\r\n      delete payload.ie\r\n      delete payload.razao_social\r\n    } else {\r\n      delete payload.cpf\r\n      delete payload.rg\r\n    }\r\n\r\n    await ClienteService.salvar(isEdit.value ? Number(clienteId.value) : null, payload)\r\n\r\n    notify.success(isEdit.value ? 'Cliente atualizado!' : 'Cliente cadastrado!')\r\n    await router.push('/clientes')\r\n  } catch (err) {\r\n    const apiMsg = err?.response?.data?.message\r\n    notify.error(Array.isArray(apiMsg) ? apiMsg.join(' | ') : (apiMsg || 'Erro ao salvar.'))\r\n  } finally {\r\n    saving.value = false\r\n  }\r\n}\r\n\r\n\r\n\r\nasync function excluir() {\r\n  const ok = await confirm.show('Excluir Cliente?', 'Esta ação não pode ser desfeita.')\r\n  if (!ok) return\r\n\r\n  deleting.value = true\r\n  try {\r\n    await ClienteService.remover(Number(clienteId.value))\r\n    notify.success('Cliente removido!')\r\n    router.push('/clientes')\r\n  } catch (err) {\r\n    console.error('Erro ao excluir:', err)\r\n    const apiMsg = err?.response?.data?.message\r\n    notify.error(Array.isArray(apiMsg) ? apiMsg.join(' | ') : (apiMsg || 'Erro ao excluir.'))\r\n  } finally {\r\n    deleting.value = false\r\n  }\r\n}\r\n\r\n// Debug: adicionar botão de teste\r\nonMounted(async () => {\r\n  const perm = isEdit.value ? 'clientes.editar' : 'clientes.criar'\r\n  if (!can(perm)) {\r\n    notify.error('Acesso negado.')\r\n    router.push('/clientes')\r\n    return\r\n  }\r\n  await carregarDados()\r\n})\r\n</script>"],"names":["route","useRoute","router","useRouter","loading","ref","saving","deleting","isJuridica","listaClientes","clienteId","computed","_a","isEdit","opcoesEstadoCivil","opcoesStatus","form","reactive","clientesOptions","o","onBlurCep","data","buscarCep","onBlurCnpj","buscarCnpj","carregarDados","resClientes","ClienteService","resUnico","c","err","notify","watch","val","v","salvar","perm","can","payload","apiMsg","_b","excluir","confirm","onMounted","_createBlock","_component_Card","_createVNode","_component_PageHeader","_createElementVNode","_hoisted_1","_component_Loading","_createElementBlock","_hoisted_2","_hoisted_3","_component_CustomCheckbox","$event","_hoisted_4","_component_SearchInput","_cache","_hoisted_5","_component_Input","_hoisted_6","_Fragment","_unref","maskCNPJ","maskIE","maskCPF","maskRG","_hoisted_7","_component_Select","_hoisted_8","maskTelefone","_hoisted_9","_hoisted_10","_hoisted_11","_Transition","_hoisted_12","maskCEP","_hoisted_13","_hoisted_14","_component_Button","_hoisted_15","_createTextVNode","_hoisted_16"],"mappings":"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"}