<script setup>
  console.log("üî• ESTE √â O NOVO APP.VUE!");

import { ref } from 'vue'

// Importamos a p√°gina do Painel
import Dashboard from '@/pages/Dashboard.vue'

// Importamos o CSS do Login V3 (Caminho corrigido com ponto no in√≠cio)
import '@/assets/CSS/pages/Login.css'

// Controle de estado (Logado ou N√£o)
const usuarioLogado = ref(false)

// Vari√°veis do formul√°rio
const username = ref('')
const password = ref('')


const handleLogin = () => {
  console.log("USERNAME:", username.value);
  console.log("PASSWORD:", password.value); 

  if (!username.value || !password.value) {
    alert("Preencha usu√°rio e senha.");
    return;
  }

  usuarioLogado.value = true;
};



// Fun√ß√£o de Logout (passada para o Dashboard)
const handleLogout = () => {
  usuarioLogado.value = false
  username.value = ''
  password.value = ''
}
</script>

<template>
  <Dashboard v-if="usuarioLogado" @logout="handleLogout" />

  <div v-else class="auth-container">
    
    <aside class="auth-left">
      <div class="auth-left-content">
        <div class="auth-logo">
          <h1><i class="fas fa-home"></i> A Casa</h1>
          <p>Sistema de Gest√£o Empresarial</p>
        </div>

        <section class="auth-features">
          <div class="auth-feature">
            <i class="fas fa-money-bill-wave fa-lg"></i>
            <div>
              <h3>Gest√£o Financeira</h3>
              <p>Controle de receitas e despesas.</p>
            </div>
          </div>
          <div class="auth-feature">
            <i class="fas fa-cogs fa-lg"></i>
            <div>
              <h3>Controle de Produ√ß√£o</h3>
              <p>Acompanhe processos em tempo real.</p>
            </div>
          </div>
          <div class="auth-feature">
            <i class="fas fa-chart-line fa-lg"></i>
            <div>
              <h3>Gest√£o Estrat√©gica</h3>
              <p>Indicadores para decis√µes inteligentes.</p>
            </div>
          </div>
        </section>
      </div>
    </aside>

    <main class="auth-right">
      <div class="auth-card">
        <header>
          <h2 class="auth-title">Entrar no Sistema</h2>
          <p class="auth-subtitle">Bem-vindo de volta!</p>
        </header>

        <form @submit.prevent="handleLogin">
          <div class="auth-group">
            <label class="auth-label" for="username">Usu√°rio</label>
            <input 
              type="text" 
              id="username" 
              class="auth-input" 
              v-model="username" 
              placeholder="Digite seu usu√°rio" 
              required
            >
          </div>

          <div class="auth-group">
            <label class="auth-label" for="password">Senha</label>
            <input 
              type="password" 
              id="password" 
              class="auth-input" 
              v-model="password" 
              placeholder="Sua senha" 
              required
            >
          </div>

          <button type="submit" class="auth-btn">
            ENTRAR
          </button>

          <div class="auth-links">
            <a href="#" class="auth-link">Esqueci a senha</a>
            <span>|</span>
            <a href="#" class="auth-link">Solicitar Acesso</a>
          </div>
        </form>
      </div>
    </main>

  </div>
</template>

<style scoped>
/* Nenhum estilo extra necess√°rio aqui, pois tudo vem do Login.css importado no script */
</style>